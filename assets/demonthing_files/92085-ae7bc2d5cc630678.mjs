(self.modernJsonp=self.modernJsonp||[]).push([["92085"],{108679:function(e,t,a){var n=a(121296),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function s(e){return n.isMemo(e)?l:i[e.$$typeof]||r}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=l;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,a,n){if("string"!=typeof a){if(m){var r=h(a);r&&r!==m&&e(t,r,n)}var l=c(a);u&&(l=l.concat(u(a)));for(var i=s(t),p=s(a),_=0;_<l.length;++_){var g=l[_];if(!o[g]&&!(n&&n[g])&&!(p&&p[g])&&!(i&&i[g])){var y=f(a,g);try{d(t,g,y)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&Symbol.for,n=a?Symbol.for("react.element"):60103,r=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,i=a?Symbol.for("react.profiler"):60114,s=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,c=a?Symbol.for("react.async_mode"):60111,u=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,h=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.memo"):60115,p=a?Symbol.for("react.lazy"):60116;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case o:case i:case l:case h:return e;default:switch(e=e&&e.$$typeof){case d:case f:case s:return e;default:return t}}case p:case m:case r:return t}}}function g(e){return _(e)===u}t.typeOf=_,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=s,t.Element=n,t.ForwardRef=f,t.Fragment=o,t.Lazy=p,t.Memo=m,t.Portal=r,t.Profiler=i,t.StrictMode=l,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===i||e===l||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===m||e.$$typeof===s||e.$$typeof===d||e.$$typeof===f)},t.isAsyncMode=function(e){return g(e)||_(e)===c},t.isConcurrentMode=g,t.isContextConsumer=function(e){return _(e)===d},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===p},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===i},t.isStrictMode=function(e){return _(e)===l},t.isSuspense=function(e){return _(e)===h}},121296:function(e,t,a){e.exports=a(396103)},892703:function(e,t,a){var n=a(150414);function r(){}e.exports=function(){function e(e,t,a,r,o,l){if(l!==n){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=r,a.PropTypes=a,a}},45697:function(e,t,a){e.exports=a(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var a="function"==typeof Symbol&&Symbol.for,n=a?Symbol.for("react.element"):60103,r=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,i=a?Symbol.for("react.profiler"):60114,s=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,c=a?Symbol.for("react.async_mode"):60111,u=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,h=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.suspense_list"):60120,p=a?Symbol.for("react.memo"):60115,_=a?Symbol.for("react.lazy"):60116,g=a?Symbol.for("react.block"):60121,y=a?Symbol.for("react.fundamental"):60117,b=a?Symbol.for("react.responder"):60118,x=a?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case o:case i:case l:case h:return e;default:switch(e=e&&e.$$typeof){case d:case f:case _:case p:case s:return e;default:return t}}case r:return t}}}function w(e){return v(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=s,t.Element=n,t.ForwardRef=f,t.Fragment=o,t.Lazy=_,t.Memo=p,t.Portal=r,t.Profiler=i,t.StrictMode=l,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||v(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return v(e)===d},t.isContextProvider=function(e){return v(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return v(e)===f},t.isFragment=function(e){return v(e)===o},t.isLazy=function(e){return v(e)===_},t.isMemo=function(e){return v(e)===p},t.isPortal=function(e){return v(e)===r},t.isProfiler=function(e){return v(e)===i},t.isStrictMode=function(e){return v(e)===l},t.isSuspense=function(e){return v(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===i||e===l||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===p||e.$$typeof===s||e.$$typeof===d||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=v},659864:function(e,t,a){e.exports=a(869921)},78273:function(e,t,a){function n(e){return"/"===e.charAt(0)}function r(e,t){for(var a=t,n=a+1,r=e.length;n<r;a+=1,n+=1)e[a]=e[n];e.pop()}a.d(t,{Z:()=>o});let o=function(e,t){void 0===t&&(t="");var a,o=e&&e.split("/")||[],l=t&&t.split("/")||[],i=e&&n(e),s=t&&n(t),d=i||s;if(e&&n(e)?l=o:o.length&&(l.pop(),l=l.concat(o)),!l.length)return"/";if(l.length){var c=l[l.length-1];a="."===c||".."===c||""===c}else a=!1;for(var u=0,f=l.length;f>=0;f--){var h=l[f];"."===h?r(l,f):".."===h?(r(l,f),u++):u&&(r(l,f),u--)}if(!d)for(;u--;)l.unshift("..");!d||""===l[0]||l[0]&&n(l[0])||l.unshift("");var m=l.join("/");return a&&"/"!==m.substr(-1)&&(m+="/"),m}},139368:function(e,t,a){a.r(t),a.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};n.hash="2c875107b94cccf12970aeb534f39684";let r=n},184242:function(e,t,a){var n,r,o,l;a.r(t),a.d(t,{default:()=>s});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:r=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:l=[o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:l,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},o,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};i.hash="3e837db15a9e9f5a0377c7ab62c7401e";let s=i},237453:function(e,t,a){a.r(t),a.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};n.hash="0e2c441822700a6145ea7cd142c0425b";let r=n},608649:function(e,t,a){a.r(t),a.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};n.hash="35b139c2e951baaa6624b30e45f913ce";let r=n},980360:function(e,t,a){var n;a.r(t),a.d(t,{default:()=>o});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};r.hash="cabaa35ed7d59dee006897bf3ef32e3d";let o=r},423347:function(e,t,a){a.r(t),a.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};n.hash="8d95294efe15498023c69669c6a41e71";let r=n},452525:function(e,t,a){a.r(t),a.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};n.hash="f459445ee8d1ea0db022e490ef5a2e80";let r=n},552558:function(e,t,a){a.r(t),a.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchMasonryGrid_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="4998effb3bbd67a125c188d857131114";let r=n},879991:function(e,t,a){var n;a.r(t),a.d(t,{default:()=>o});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};r.hash="756d8d8edca35eac0a0500359bf60618";let o=r},637117:function(e,t,a){a.d(t,{Z:()=>i});var n=a(281098),r=a(667294),o=a(20256),l=a(785893);let i=({text:e})=>((0,r.useEffect)(()=>{(0,n.Z)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}))},721465:function(e,t,a){a.d(t,{Z:()=>v});var n,r=a(281098),o=a(667294);a(167912);var l=a(825332),i=a(20256),s=a(980787),d=a(28427),c=a(19585),u=a(355363),f=a(2761),h=a(793760),m=a(159527),p=a(378888),_=a(341742),g=a(845421),y=a(330510),b=a(785893);let x=(void 0!==n||(n=a(552558)).hash&&"4998effb3bbd67a125c188d857131114"!==n.hash&&console.error("The definition of 'VisualSearchMasonryGrid_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function v({alignStart:e,auxData:t,isFilterOpened:a,isProductFeed:n,pinKey:v,searchId:w,viewParameter:P,viewType:S,visualSearchFlashlightUnifiedResource:k}){(0,o.useEffect)(()=>{(0,r.Z)("VisualSearchMasonryGrid","/app/common/react/components/shopping/RelatedProducts/UnifiedFeed/VisualSearchMasonryGrid.tsx")},[]);let j=(0,y.D)(),C=(0,d.Z)(x,v),A=(0,c.ZP)(),z=(0,l.TH)(),{logContextEvent:F}=(0,s.u)(),Z=(0,o.useRef)(null),I=(0,o.useRef)(!1);(0,o.useEffect)(()=>{Z.current?.handleResize()},[a]),(0,_.Z)(()=>{let e=(0,m.Z)(()=>{I.current||(F({event_type:110,view_type:S,view_parameter:P}),I.current=!0)},1e3);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)});let{data:T,isFetching:B,fetchMore:E,isAtEnd:L}=k,M=T?.results||[];return(0,b.jsxs)(i.xu,{"data-test-id":"visual-search-feed",children:[(0,b.jsx)(u.Z,{isAtEndOfFeed:L,itemCount:M.length,children:(0,b.jsx)(i.Rk,{ref:Z,align:e?"start":"center",getColumnSpanConfig:e=>{let t="story"===e.type&&e.display_options?.num_columns_requested;return 0===t?1/0:t||1},items:M,loadItems:E,minCols:1,renderItem:function({data:e,itemIdx:a}){switch(e.type){case"pin":return(0,b.jsx)(g.Z,{auxData:t,componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:a,surface:n?"ShoppingDynamicHeightGrid":"SearchItem",viewData:{search_identifier:w},viewParameter:P,viewType:S});case"story":let r;if(j&&"unified_entry_point_flashlight_header"===e.story_type)return null;if(C?.entityId){let t=(0,p.mB)(z.search),a=(0,p.mB)(e.action?.url).full_feed_title||"";t.full_feed_title=(0,f.Z)(a);let n=(0,p.XP)(t);r=`/pin/${C.entityId}/visual-search/products/?${n}`}return(0,b.jsx)(h.default,{component:14339,dangerouslySetActionUrl:r,initialSlotIndex:a,showExpanded:!1,story:e,storyKey:{type:"Legacy",data:e},styleOverrides:{justifyContent:"start"},view:S,viewParameter:P});default:return null}},scrollContainer:()=>window})}),(0,b.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,b.jsx)(i.xH,{accessibilityLabel:A._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:B})})]})}},258193:function(e,t,a){a.d(t,{Z:()=>c});var n=a(667294);function r(e){let{category_filters:t,domain_filters:a,price_filters:n}=e||{};return!!t||!!a||!!n}var o=a(449029),l=a(949044),i=a(886981),s=a(974705);let d=e=>"shop_the_look_module"===e||"stela_landing_page_category_filter"===e;function c({resourceOptions:e}){let[t,a]=(0,n.useState)(),[c,u]=(0,n.useState)(""),[f,h]=(0,n.useState)(),{cachedOneBarModules:m,setCachedOneBarModules:p,cachedDescriptorModules:_,setCachedDescriptorModules:g}=(0,o._)(),y=(0,i.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null),{auxData:b}=y,x=b?.metadata?.one_bar_modules,v=b?.metadata?.descriptors_one_bar_modules,{pin_id:w="",entrypoint:P}=e||{},S=d(P)?m[w]:(0,l.Z)(s.Z,!0)(x),k=_?.[w]?_[w]:(0,l.Z)(s.Z,!0)(v);return(0,n.useEffect)(()=>{x&&d(P)&&p(e=>{if(e[w])return e;let t=(0,l.Z)(s.Z,!0)(x);return{...e,[w]:t}})},[x,p,w,P]),(0,n.useEffect)(()=>{v&&g(()=>_[w]?_:{[w]:(0,l.Z)(s.Z,!0)(v)})},[v,w,g,_]),(0,n.useEffect)(()=>{let{data:e}=y,t=e?.search_identifier;t&&u(t),a(e)},[y]),(0,n.useEffect)(()=>{let{data:e}=y,a=e?.search_identifier,n=t?.search_identifier;e&&(!a||!n||a!==n)&&!r(t)&&r(e)&&h({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[f,t,y]),{descriptorModules:k,filters:f,oneBarModules:S,searchId:c,setSearchId:u,visualSearchFlashlightUnifiedResource:y}}},449029:function(e,t,a){a.d(t,{_:()=>i,p:()=>s});var n=a(667294),r=a(729434),o=a(785893);let{Provider:l,get:i}=(0,r.Z)("VisualShopContext");function s({children:e}){let[t,a]=(0,n.useState)({}),[r,i]=(0,n.useState)({}),s=(0,n.useRef)(0),d=(0,n.useRef)("");return(0,o.jsx)(l,{value:{cachedOneBarModules:t,setCachedOneBarModules:a,cachedDescriptorModules:r,setCachedDescriptorModules:i,imageContainerScrollTop:s,imageContainerScrollTopForPinId:d},children:e})}},761578:function(e,t,a){a.d(t,{Z:()=>s});var n=a(667294);function r(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function o(){return window.innerWidth}function l(){return window.innerHeight}function i(){return null}function s(){let e=(0,n.useSyncExternalStore)(r,l,i),t=(0,n.useSyncExternalStore)(r,o,i);return null!==e&&null!==t?{height:e,width:t}:null}},790314:function(e,t,a){a.d(t,{DW:()=>o,I:()=>r,Rn:()=>i,e3:()=>c,oo:()=>n,rk:()=>d,t7:()=>s,zI:()=>l});let n=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,o=(e,t,a)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(a/255)**2.2,l=e=>{let t=e.replace("#",""),a=parseInt(t.substr(0,2),16);return(299*a+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},i=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:a,minSaturationClamp:r,mixVal:o=1,minBrightnessClamp:l=0})=>{let i=n(e);null===i&&(i=[229,229,224]);let s=((e,t,a)=>{let n=Math.max(e/=255,t/=255,a/=255),r=n-Math.min(e,t,a),o=0;return 0!==r&&(o=(n===e?(t-a)/r+6*(t<a):n===t?(a-e)/r+2:(e-t)/r+4)*60)<0&&(o+=360),{h:o,s:0===n?0:r/n,b:n}})(...i),d=(e,t,a)=>Math.max(t,Math.min(e,a));s.s=d(s.s*(1+t),r,1),s.b=d(s.b*(1+a),l,1);let c=(({h:e,s:t,b:a})=>{let n=a*t,r=n*(1-Math.abs(e/60%2-1)),o=a-n,l=0,i=0,s=0;return e<60?(l=n,i=r):e<120?(l=r,i=n):e<180?(i=n,s=r):e<240?(i=r,s=n):e<300?(l=r,s=n):(l=n,s=r),{r:Math.round((l+o)*255),g:Math.round((i+o)*255),b:Math.round((s+o)*255)}})({...s}),u=e=>({r:Math.round(c.r*o+e*(1-o)),g:Math.round(c.g*o+e*(1-o)),b:Math.round(c.b*o+e*(1-o))}),f=u(0),h=u(255);return[[f.r,f.g,f.b],[h.r,h.g,h.b]]};function s(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),a="rgba"===t.slice(0,4).toLowerCase(),n=!a&&"rgb"===t.slice(0,3).toLowerCase();if(!a&&!n)return{r:0,g:0,b:0,a:0};let r=t.indexOf("("),o=t.indexOf(")",r);if(-1===r||-1===o)return{r:0,g:0,b:0,a:0};let l=t.slice(r+1,o).split(",").map(e=>e.trim());if(a&&4!==l.length||n&&3!==l.length)return{r:0,g:0,b:0,a:0};let[i,s,d,c]=l,u=Number(i),f=Number(s),h=Number(d),m=a?Number(c):1;return[u,f,h].some(e=>Number.isNaN(e))||a&&Number.isNaN(m)?{r:0,g:0,b:0,a:0}:{r:u,g:f,b:h,a:m}}function d(e,t){let a=e.a+t.a*(1-e.a);return 0===a?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/a),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/a),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/a),a}}let c=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`},140725:function(e,t,a){a.d(t,{Q:()=>s,Z:()=>d});var n=a(667294),r=a(521009),o=a(346955),l=a(991384),i=a(15667);function s(e,t){let{setViewContextData:a}=(0,o.A$)(),{requestIdentifier:s}=(0,i.B)(),d=(0,r.Z)(),{viewData:c}=(0,o.SU)();(0,n.useEffect)(()=>{e&&(a({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:a}=e;return s(a),t||null}},289032:function(e,t,a){function n(e,t,a){let n,r,o,l=!!a?.leading,i=a?.trailing!==!1,s=a?.maxWait?Math.max(a.maxWait,t):void 0,d=null,c=0;function u(t){let a=n;return n=void 0,c=t,a&&(r=e(...a)),r}function f(e){let a=e-(o??0),n=e-c;return void 0===o||a>=t||a<0||void 0!==s&&n>=s}function h(){let e=Date.now();f(e)?(d=null,i&&n)?u(e):n=void 0:d=setTimeout(h,function(e){let a=e-(o??0),n=e-c,r=t-a;return void 0!==s?Math.min(r,s-n):r}(e))}function m(){null!==d&&clearTimeout(d),d=setTimeout(h,t)}function p(...e){let a=Date.now(),i=f(a);if(n=e,o=a,i){if(null===d)return c=a,d=setTimeout(h,t),l?u(a):r;else if(void 0!==s)return m(),u(a)}return null===d&&m(),r}return p.flush=function(){if(null!==d&&n){let e=Date.now();return clearTimeout(d),d=null,u(e)}return r},p.cancel=function(){null!==d&&clearTimeout(d),c=0,n=void 0,o=void 0,d=null},p}a.d(t,{Z:()=>n})},467925:function(e,t,a){function n(e=!0){let t=e?16:void 0,a=t?Math.floor(t/4):void 0;return{experimentalColumnWidth:e?221:void 0,experimentalGutter:t,experimentalGutterBoints:a}}a.d(t,{Z:()=>n})},670622:function(e,t,a){a.d(t,{Z:()=>l});var n=a(410156),r=a(19585),o=a(302148);function l(){let e=(0,r.ZP)();return function(t,a){let r=new Date(t).getTime(),l=Date.now()-r,i=Math.floor(l/n.FS),s=Math.floor(l/n.UK),d=Math.floor(l/n.F4),c=Math.floor(l/n.VL),u=Math.floor(l/n.N9),f=Math.floor(l/n.N1),h=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', i, ' - ', ' -- '),m=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),p=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),_=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),g=e.ngettext('{{ months }} month ago', '{{ months }} months ago', u, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),y=e.ngettext('{{ years }} year ago', '{{ years }} years ago', f, ' - ', ' -- '),b=e.ngettext('{{ minutes }}m', '{{ minutes }}m', i, 'minutes ago abbreviated', 'minutes ago abbreviated'),x=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),v=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),w=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),P=e.ngettext('{{ months }}mo', '{{ months }}mo', u, 'months ago abbreviated', 'months ago abbreviated'),S=e.ngettext('{{ years }}y', '{{ years }}y', f, 'years ago abbreviated', 'years ago abbreviated');return f>0?(0,o.nk)(a?S:y,{years:f}).join(""):u>0?(0,o.nk)(a?P:g,{months:u}).join(""):c>0?(0,o.nk)(a?w:_,{weeks:c}).join(""):d>0?(0,o.nk)(a?v:p,{days:d}).join(""):s>0?(0,o.nk)(a?x:m,{hours:s}).join(""):i>0?(0,o.nk)(a?b:h,{minutes:i}).join(""):e._('Just now', ' - ', ' -- ')}}},900675:function(e,t,a){a.d(t,{Z:()=>i});var n=a(667294),r=a(581722),o=a(849233),l=a(707079);function i(e){let{name:t,optionsKey:a}=e,i=t===o.fY,s=(0,l.MA)(),d=s?.get(t,a);if(d)throw d;let c=e=>e[t]?.[a],u=(0,r.v9)(({resources:e})=>c(e)?.nextBookmark),f=(0,r.v9)(({resources:e})=>c(e)?.data),h=(0,r.v9)(({resources:e})=>c(e)?.auxData),m=(0,r.v9)(({resources:e})=>c(e)?.error),p=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(i)return p.current;let _={auxData:h,data:f,error:m,isAtEnd:u===o.qx,nextBookmark:u};return(_.auxData!==p.current.auxData||_.data!==p.current.data||_.error!==p.current.error||_.isAtEnd!==p.current.isAtEnd||_.nextBookmark!==p.current.nextBookmark)&&(p.current=_),p.current}},444185:function(e,t,a){a.d(t,{Z:()=>o});var n=a(849233),r=a(943257);function o(e){let{enabledRouteRefresh:t,headers:a,name:o,noCache:l,options:i,schema:s}=e??{name:n.fY,options:null},d=!e,{fetchResource:c,ref:u,fetchMore:f,isFetching:h,isLoaded:m,isRefreshing:p,refresh:_}=(0,r.Z)({enabledRouteRefresh:t,headers:a,name:o,noCache:l,options:i,schema:s},d,!1);return d||c(),{ref:u,fetchMore:f,isFetching:h,isLoaded:m,isRefreshing:p,refresh:_}}},2761:function(e,t,a){function n(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}a.d(t,{Z:()=>n})},134475:function(e,t,a){a.d(t,{U:()=>i,Z:()=>s});var n=a(281098),r=a(667294),o=a(20256),l=a(785893);let i=", ";function s(){return(0,r.useEffect)(()=>{(0,n.Z)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,l.jsx)(o.xu,{display:"visuallyHidden",children:i})}},734263:function(e,t,a){a.d(t,{Z:()=>i});var n=a(281098),r=a(667294),o=a(20256),l=a(785893);function i({ariaHidden:e=!1,color:t,size:a}){return(0,r.useEffect)(()=>{(0,n.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,l.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,l.jsx)(o.xv,{color:t,inline:!0,size:a??"200",children:"·"})})}},144633:function(e,t,a){function n(e){let t;switch(e){case 1:t=1;break;case 2:t=2;break;case 3:t=3;break;case 4:t=4;break;case 5:t=5;break;case 6:t=6;break;case 9:t=9}return t}a.d(t,{Z:()=>n})},645435:function(e,t,a){a.d(t,{Z:()=>u});var n=a(281098),r=a(667294),o=a(20256),l=a(264251),i=a(230543),s=a(25837),d=a(819199),c=a(785893);function u({children:e,className:t,forwardRef:a,offset:u=0,position:f,shouldShowShadow:h=!1,style:m={},top:p,stickyZIndex:_}){(0,r.useEffect)(()=>{(0,n.Z)("ContentHeader","/app/www/ContentHeader/ContentHeader.tsx")},[]);let{setIsContentHeaderPresent:g}=(0,l.g)();(0,r.useEffect)(()=>(g(!0),function(){g(!1)}),[]);let{currentScrollPosition:y,isScrolled:b,setSubheaderShadow:x}=(0,d.bj)();(0,r.useEffect)(()=>(h&&x("contentHeader"),()=>{h&&x(null)}),[h]);let v=!1;"pending"!==p&&(v=null!=p?y>=p:b);let w=(0,i.t)(),P=(0,c.jsx)("div",{ref:a,className:t,style:{...m,top:w+u,...v&&h?{...s.Rz,transition:m.transition||s.Rz.transition,zIndex:499}:{},...f&&"sticky"!==f?{position:f}:{}},children:e});return"sticky"===f?(0,c.jsx)(o.Le,{top:w+u,zIndex:_||new o.Ry(1),children:P}):P}},264251:function(e,t,a){a.d(t,{Z:()=>d,g:()=>s});var n=a(281098),r=a(667294),o=a(729434),l=a(785893);let{Provider:i,get:s}=(0,o.Z)("ContentHeader");function d({children:e}){(0,r.useEffect)(()=>{(0,n.Z)("ContentHeaderContext","/app/www/ContentHeader/ContentHeaderContext.tsx")},[]);let[t,a]=(0,r.useState)(!1),o=(0,r.useMemo)(()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:a}),[t]);return(0,l.jsx)(i,{value:o,children:e})}},38817:function(e,t,a){a.d(t,{Z:()=>A});var n,r=a(281098),o=a(667294);a(167912);var l=a(20256),i=a(521009),s=a(821342),d=a(28427),c=a(19585),u=a(675973),f=a(607001),h=a(941404),m=a(572227),p=a(87853),_=a(741155),g=a(334536),y=a(647709),b=a(341742),x=a(732347),v=a(352908),w=a(793698),P=a(400741),S=a(151594),k=a(785893);let j=({children:e,pulsar:t,testId:a})=>t.show?(0,k.jsx)(l.xu,{"data-test-id":a,position:"relative",children:(0,k.jsxs)(l.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,k.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,k.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,k.jsx)(l.o3,{})})]})}):(0,k.jsx)(l.xu,{"data-test-id":a,children:e}),C=(void 0!==n||(n=a(980360)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==n.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function A({auxData:e,disabled:t,disableLog:a,followEventType:n,id:A,inline:z,invertColors:F,isFollowed:Z,isIdeaPin:I,isLegoEnabled:T,isSecondaryButton:B,isUserFollowButton:E,isUserMe:L,onFollow:M,onUnfollow:D,pinKey:K,shouldUseLegoColors:R,showPulsar:$,size:O,textType:U="FollowFollowing",unfollowEventType:H,viewParameter:N,viewType:G,clientTrackingParams:W}){let V;(0,o.useEffect)(()=>{(0,r.Z)("FollowButton","/app/www/FollowButton.tsx")},[]);let Y=(0,c.ZP)(),q=(0,y.HG)(),{showToast:J}=(0,p.dI)(),X=(0,m.Z)(),Q=(0,i.Z)(),ee=(0,f.Z)(),{checkExperiment:et}=(0,u.Z)(),ea=(0,v.Z)(),en=(0,s.Z)(),er=en&&en.isAuth,{unauthFollowUserId:eo,setUnauthFollowUserId:el}=(0,S.A)(),ei=(0,w.mN)()(A),es=(0,_.Z)(),[ed,ec]=(0,o.useState)(Z),eu=ei&&{imageMediumUrl:ei.image_medium_url,username:ei.username},ef=(0,d.Z)(C,K),eh=ef?.linkDomain,em=ef?.nativeCreator,ep=ef?.originPinner,e_=ef?.pinner;V=em||(eh?eh.officialUser:ep||e_);let eg=eu??V;(0,b.Z)(()=>{!q&&er&&eo&&A&&eo===A&&M(A)});let ey=ea({fn:()=>{if(er)ed?(D(A),ec(!1),a||Q({event_type:H,view_type:G,view_parameter:N,object_id_str:A,aux_data:e,clientTrackingParams:W})):(M(A),ec(!0),E&&J(({hideToast:e})=>{let t=eg?.username?`/${eg.username}/`:"";return(0,k.jsx)(P.Z,{handleHide:e,href:t,imageUrl:eg?.imageMediumUrl||"",text:(0,k.jsx)(l.xv,{lineClamp:4,children:Y._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:A})}),a||Q({event_type:n,view_type:G,view_parameter:N,object_id_str:A,aux_data:e,clientTrackingParams:W}));else{if((0,h.NC)(ed?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:ed?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled)if(q){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,g.b9)(!!I,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,g.Jw)(!!I,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:I?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:q&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!q&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});q||el(A??""),(0,h.NC)("clickthrough")}},modalHeader:(0,x.N4)({i18n:Y,toFollow:!ed})}),eb=!ed&&!!$,ex=()=>{if(L)return Y._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===U)return ed?Y._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):Y._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===U?Y._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):Y._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return ed?e:Y._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,k.jsx)(j,{pulsar:eb?{show:!0,onClick:ey}:{show:!1},testId:L||ed?"board-unfollow-button":"board-follow-button",children:(0,k.jsx)(l.zx,{accessibilityLabel:ex(),color:R||"AddRemove"===U||!T&&B||F?"gray":"red",disabled:L||t,fullWidth:z,onClick:eb?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),a||Q({event_type:101,component:13672,element:11951,object_id_str:A,view_type:G,view_parameter:N,aux_data:e,clientTrackingParams:W}),ey()},selected:ed||!1,size:O,text:ex()})})}},984126:function(e,t,a){a.d(t,{Z:()=>s});var n=a(281098),r=a(667294),o=a(20256),l=a(19585),i=a(785893);let s=({isInModal:e})=>{(0,r.useEffect)(()=>{(0,n.Z)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,l.ZP)();return(0,i.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),children:(0,i.jsx)(o.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},230543:function(e,t,a){a.d(t,{c:()=>r,t:()=>o});var n=a(598849);function r({children:e}){let{height:t}=(0,n.Z)();return e(t)}function o(){let{height:e}=(0,n.Z)();return e}},819199:function(e,t,a){a.d(t,{Hv:()=>d,bj:()=>s});var n=a(667294),r=a(729434),o=a(289032),l=a(785893);let{Provider:i,get:s}=(0,r.Z)("HeaderShadow");function d({children:e}){let[t,a]=(0,n.useState)(!1),[r,s]=(0,n.useState)(0),[d,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=(0,o.Z)(()=>{a(window.scrollY>0),s(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let u=(0,n.useMemo)(()=>({currentScrollPosition:r,isScrolled:t,setSubheaderShadow:c,subheaderShadow:d}),[r,t,c,d]);return(0,l.jsx)(i,{value:u,children:e})}},253861:function(e,t,a){a.d(t,{H:()=>n,J:()=>r});let{Provider:n,getMaybe:r}=(0,a(729434).Z)("PinCreateDeleteContext")},452516:function(e,t,a){a.d(t,{Z:()=>r});var n=a(793698);function r(){let e=(0,n.dM)();return Object.keys(e).reduce((t,a)=>{let n=e[a];return t[n.username]=n,t},{})}},151594:function(e,t,a){a.d(t,{A:()=>i,w:()=>s});var n=a(667294),r=a(729434),o=a(785893);let{Provider:l,get:i}=(0,r.Z)("Session");function s({children:e}){let[t,a]=(0,n.useState)(void 0),r=(0,n.useCallback)(()=>a(void 0),[]),i=(0,n.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:a,removeUnauthFollowUserId:r}),[t,r]);return(0,o.jsx)(l,{value:i,children:e})}},322838:function(e,t,a){a.d(t,{Z:()=>Z});var n,r=a(281098),o=a(667294);a(167912);var l=a(616550),i=a(20256),s=a(521009),d=a(821342),c=a(28427),u=a(19585),f=a(670622),h=a(906553),m=a(302148),p=a(15667),_=a(941404),g=a(134475),y=a(734263),b=a(647709),x=a(223615),v=a(975740),w=a(785893);function P({boardId:e}){(0,o.useEffect)(()=>{(0,r.Z)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let t=(0,u.ZP)(),a=(0,d.Z)(),n=(0,b.HG)(),l=(0,v.gC)()(e),s=function(e){let t=(0,d.Z)(),a=(0,b.HG)()&&t&&t.isAuth,n=(0,v.gC)()(e);return(0,o.useMemo)(()=>{if(!n)return[];let{owner:e,collaborating_users:r}=n,[o,l,i]=[new Set,new Set,new Set];for(let a of[...e?[e]:[],...r||[]])a.id===e?.id?o.add(a):a.id===(t.isAuth?t.id:void 0)?l.add(a):i.add(a);return[...o,...l,...i].map(e=>({name:(a?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[a,n,t])}(e);if(!l)return null;let{collaborator_count:c=0}=l,f=n&&a&&a.isAuth?23:16,h=f/3*((s.length>2?3:s.length)*2+1),p=c>=s.length?c-s.length:0,_=[...s,...Array(p=p>99?100:p).fill({name:"",src:""})],g="",y=s.slice(0,3).map(e=>e.name);switch(s.length){case 3:g=(0,m.Wc)(`${t._('{{ first }}, {{ second }}, and {{ last }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.threeAvatars', 'List of three usernames. Placeholders: first: first collaborator name, second: second collaborator name, last: third collaborator name.')}`,{first:`${y[0]??""}`,second:`${y[1]??""}`,last:`${y[2]??""}`});break;case 2:g=(0,m.Wc)(`${t._('{{ first }} and {{ second }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.twoAvatars', 'List of two usernames. Placeholders: first: first collaborator name, second: second collaborator name.')}`,{first:`${y[0]??""}`,second:`${y[1]??""}`});break;default:g=y.join(", ")}let x=s.length>3?(0,m.Wc)(`, ${t.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', s.length - 3, 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars. Placeholders: userNames: list of displayed collaborator names, leftCount: count of non-displayed collaborators.')}`,{userNames:g,leftCount:`${s.length-3}`}):(0,m.Wc)(`, ${t._('Collaborators: {{ userNames }}.', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.notAboveThree', 'Accessibility label for the Avatar Group component that lists the names of collaborators. Placeholder: userNames: list of displayed collaborator names.')}`,{userNames:g});return(0,w.jsx)(i.xu,{height:f,marginStart:2,minWidth:h,width:h,children:(0,w.jsx)(i.HE,{accessibilityLabel:x,collaborators:_})})}var S=a(271597),k=a(298097),j=a(38817),C=a(547585),A=a(452516);let z=(void 0!==n||(n=a(139368)).hash&&"2c875107b94cccf12970aeb534f39684"!==n.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),F=({children:e,isOwnProfile:t,lineClamp:a})=>(0,b.HG)()?(0,w.jsx)(i.X6,{accessibilityLevel:2,lineClamp:t?1:a,size:t?"400":"300",children:e}):(0,w.jsx)(i.xv,{lineClamp:t?1:a,size:t?void 0:"200",weight:"bold",children:e});function Z({archivedDate:e,boardId:t,boardUrl:a,canEdit:n,numberOfCollaborators:v,containerBackgroundColor:Z,coverPhoto:I,display:T,followButtonDisabled:B=!1,followedByMe:E,fullSizeDrawer:L,sensitivityScreen:M,handleInviteResponse:D,hideMeta:K,hideSecretBoardIcon:R=!1,id:$,invite:O,imagesLego:U=[],isActive:H,isAttributionHeightUnfixed:N,isAuthenticated:G,isBoardInviteAccepted:W,isCollaborative:V,isCollaborator:Y,isCollaboratorsAttributionVisible:q=!1,isFeaturedBoardsModule:J=!1,isHomePageBoards:X,isOwner:Q,isProtected:ee,isSecret:et,lastModifiedDate:ea,layout:en,lineClamp:er=2,locale:eo,metaMarginTop:el=0,metaMarginBottom:ei=0,metaPaddingY:es=2,name:ed,numCols:ec,onEditClick:eu,onFollow:ef,onUnfollow:eh,pinCount:em=0,sectionCount:ep,slotIndex:e_,showFollowButton:eg,showBoardCollaborators:ey=!0,showTitleOnly:eb,trackingParams:ex,boardKey:ev,viewObjectIdStr:ew,viewParameter:eP,viewType:eS}){(0,o.useEffect)(()=>{(0,r.Z)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let ek=(0,u.ZP)(),ej=(0,f.Z)(),eC=(0,h.Z)(),eA=(0,s.Z)(),ez=(0,b.HG)(),{isRTL:eF}=(0,p.B)(),eZ=(0,d.Z)(),{username:eI}=(0,l.UO)(),eT=(0,A.Z)(),eB=eT[eI??""]?.is_gco_account,eE=(0,c.Z)(z,ev),eL=ez&&G,eM="square"===en?S.M0:S.z9,eD="responsive"!==T&&(eL||J)?eM:"100%",eK=eZ.isAuth&&eZ.username===eI,eR=e=>{G||(0,_.NC)("press_follow_board"),ef&&ef(e)},e$=e=>{G||(0,_.NC)("press_unfollow_board"),eh&&eh(e)},eO=U.map(e=>({url:e.url,name:ed})),eU=!!eE?.owner&&!n&&eg,eH=eE?.owner?.isVerifiedMerchant,eN=eE?.owner?.verifiedIdentity?.verified,eG=V&&!J;eK||(eG&&=!!eI&&!eB);let eW=!Q&&!Y&&!!M?.show_warning,eV={board_id:$,reason:M?.reason},eY=!eK&&!eb&&(!eI||q||eB),eq=eL?void 0:S.s0+(eU?S.o2:0);eK||(eq=ez?void 0:(eY?S.AC:S.Y_)+(eU?S.o2:0));let eJ=eU&&"responsive"!==T?`max(calc(25vh + 10px), calc(210px + ${5*!eK}vh))`:"100%";return(0,o.useEffect)(()=>{eW&&eA({event_type:13,component:13861,view_type:215,aux_data:eV})},[]),(0,w.jsx)(C.fS,{auxData:{board_id:$,board_pin_count:em??0,board_section_count:ep??0,grid_index:e_||0},impressionData:{imageURL:I?.url},loggingId:$,slotIndex:e_||0,trackingParams:ex,viewData:{view_object_id_str:ew},viewParameter:eP,viewType:eS,children:({impressionTrackerRef:r})=>(0,w.jsxs)(i.xu,{ref:r,"data-test-id":`boardCard-${ed}`,height:e&&!ez?"100%":eJ,position:"relative",width:eD,children:[(0,w.jsx)(i.zd,{rounding:4,children:(0,w.jsx)(k.Z,{boardKey:eE,canEdit:n,containerBackgroundColor:Z,coverPhoto:I,coverPinKey:eE?.coverPin,fullSize:L,hideSecretBoardIcon:R,images:eO,isActive:H,isHomePageBoards:X,isProtected:ee,isSecret:et,layout:en,onEditClick:eu,renderAsImage:!0,showSensitivityScreen:eW})}),!K&&(0,w.jsx)(o.Fragment,{children:O?(0,w.jsxs)(o.Fragment,{children:[(0,w.jsxs)(i.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,w.jsxs)(i.xu,{width:"100%",children:[(0,w.jsx)(i.rU,{href:a??"",children:(0,w.jsx)(i.xu,{marginBottom:1,marginTop:0,children:(0,w.jsx)(F,{isOwnProfile:eK,lineClamp:er,children:ed})})}),W?(0,w.jsx)(i.xv,{lineClamp:1,size:"200",children:ek._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,w.jsx)(i.xv,{size:"200",children:function(e,t){let{full_name:a,username:n}=e,r=(0,w.jsx)(i.rU,{display:"inlineBlock",href:`/${n}`,underline:"hover",children:a},"linkToUser");return(0,m.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:r})}(O.invited_by_user,ek)})]}),ey&&(0,w.jsx)(P,{boardId:t})]}),W?(0,w.jsx)(i.xu,{direction:"row",display:"flex",paddingX:2,children:(0,w.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(i.ZP,{fullWidth:!0,href:a??"",size:"lg",text:ek._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,w.jsxs)(i.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,w.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(i.zx,{fullWidth:!0,onClick:()=>{D?.(!1)},size:"lg",text:ek._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,w.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:()=>{D?.(!0)},size:"lg",text:ek._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,w.jsxs)(i.xu,{height:N?void 0:eq,marginBottom:ei,marginTop:el,paddingX:2,paddingY:es,children:[(0,w.jsxs)(i.xu,{alignItems:eK?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,w.jsx)(F,{isOwnProfile:eK,lineClamp:er,children:ed}),eG&&ey&&(0,w.jsx)(P,{boardId:t})]}),eY&&(0,w.jsx)(i.xu,{marginTop:1,children:(0,w.jsx)(x.Z,{numberOfCollaborators:v,ownerFullName:eE?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eN,ownerIsVerifiedMerchant:!!eH,showBoardCollaborators:ey})}),!eb&&(0,w.jsxs)(i.xu,{alignItems:ez?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,w.jsx)(i.kC.Item,{flex:"none",children:(0,w.jsxs)(i.xv,{color:eK?void 0:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(g.Z,{}),(0,m.nk)(ek.ngettext('{{ count }} Pin', '{{ count }} Pins', em, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:eC(eo,em,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!ep&&(0,w.jsxs)(i.xv,{color:eK?void 0:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(y.Z,{ariaHidden:!0,size:"100"}),(0,w.jsx)(g.Z,{}),(0,m.nk)(ek.ngettext('{{ count }} section', '{{ count }} sections', ep, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:ep})]}),!eK&&(0,w.jsx)(i.xv,{color:"subtle",size:"100",children:(0,w.jsx)(y.Z,{ariaHidden:!0,size:"100"})}),(0,w.jsx)(i.kC.Item,{flex:ep?"none":"grow",children:(0,w.jsx)(i.xu,{display:"flex",marginEnd:2*!!eF,marginStart:eK?2:void 0,children:(0,w.jsxs)(i.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(g.Z,{}),ej(ea,!0)]})})})]}),e&&!ez&&(0,w.jsxs)(i.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,w.jsx)(g.Z,{}),ek._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),eU&&(0,w.jsx)(i.xu,{column:2===ec?12:void 0,flex:"none",marginTop:2===ec?3:void 0,children:(0,w.jsx)(j.Z,{disabled:!!eE?.owner?.blockedByMe||B,followEventType:26,id:$,isFollowed:E,onFollow:eR,onUnfollow:e$,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eP,viewType:eS})})]})})]})})}},222401:function(e,t,a){a.r(t),a.d(t,{default:()=>S});var n,r=a(281098),o=a(667294),l=a(581722);a(167912);var i=a(20256),s=a(521009),d=a(821342),c=a(28427),u=a(15667),f=a(941404),h=a(572227),m=a(647709),p=a(322838),_=a(537005),g=a(408575),y=a(207691),b=a(975740),x=a(785893);let v=(void 0!==n||(n=a(184242)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==n.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=["thumbnail","imageOnly"],P=({isUsingMask:e,setIsHovered:t,children:a})=>{let n=(0,m.HG)();return e&&n?(0,x.jsx)(i.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:a}):(0,x.jsx)(o.Fragment,{children:a})};function S({boardKey:e,component:t,containerBackgroundColor:a,display:n="responsive",forwardedRef:S,fullSize:k,hideSecretBoardIcon:j=!1,isAttributionHeightUnfixed:C=!1,isCollaboratorsAttributionVisible:A=!1,isFeaturedBoardsModule:z=!1,isHomePageBoards:F,noPaddings:Z=!1,showFollowButton:I=!0,isUsingMask:T=!1,showPinCount:B=!0,slotIndex:E,type:L,viewObjectIdStr:M,viewParameter:D,viewType:K,trackInteractionObjectProp:R,isFromProfileGrid:$=!1,metaMarginTop:O=2,metaMarginBottom:U=0,metaPaddingY:H=0}){(0,o.useEffect)(()=>{(0,r.Z)("BoardRep","/app/www/board/BoardRep.tsx")},[]);let N=(0,d.Z)(),G=N&&N.isAuth,W=(0,l.I0)(),{locale:V}=(0,u.B)(),Y=(0,h.Z)(),q=(0,c.Z)(v,e),J=(0,b.gC)(),X=q?.entityId?J(q.entityId):null,Q=(0,_.Z)(q),ee=(0,s.Z)(),et=(0,m.HG)(),[ea,en]=(0,o.useState)(!1);if(!q)return null;let{collaboratingUsers:er,owner:eo,privacy:el,shouldShowBoardCollaborators:ei}=q,es=N.isAuth?N.id:"",ed=eo?.entityId===es,ec=[];er?.__typename==="UserCollaboratingUsersConnectionContainer"?ec=er.connection?.edges?.map(e=>e?.node?.entityId)??[]:X?.collaborating_users&&(ec=X.collaborating_users.map(e=>e.id));let eu=ec.includes(es)||ed;if("secret"===el&&!eu)return null;let ef=!G&&!($&&q.hasCustomCover)&&!!q.images236x?.[0]?.url,eh="grid"===L||"thumbnail"===L?2:4,em=ef?q.images236x?.[0]?.url:Q(eh),ep=q.coverPin??X?.cover_pin,e_=(ep?.crop&&ep?.size&&{x:ep?.crop[0]??0,y:ep?.crop[1]??0,width:ep?.size[0]??0,height:ep?.size[0]??0})??{x:0,y:0,width:0,height:0},eg={isCustom:!ef&&(q.hasCustomCover||void 0),url:em,position:e_},ey=q.pinThumbnailUrls??X?.pin_thumbnail_urls,eb=(0,g.Jx)(q.images170x,ey?.filter(e=>null!==e)??void 0,em).map(({url:e})=>({name:(0,g.po)(e),url:e})),ex=[44,49].includes(D)||[3,442,625].includes(K),ev=q?.sensitivityScreen?{reason:q.sensitivityScreen?.reason,showWarning:q.sensitivityScreen?.showWarning}:void 0,ew=q.pinCount??X?.pin_count??0,eP=q.sectionCount??X?.section_count??0,eS=(0,x.jsx)(p.Z,{archivedDate:q.archivedByMeAt??X?.archived_by_me_at,boardId:q.entityId,boardKey:q,canEdit:!!q.boardAccess&&q.boardAccess.includes("write"),containerBackgroundColor:a,coverPhoto:eg,display:n,followedByMe:!!(X?.followed_by_me??q.followedByMe),fullSizeDrawer:k,hideMeta:w.includes(L),hideSecretBoardIcon:j,id:q.entityId,imagesLego:eb,isActive:ea,isAttributionHeightUnfixed:C,isAuthenticated:G,isCollaborative:!!q.isCollaborative,isCollaborator:!!eu,isCollaboratorsAttributionVisible:A,isFeaturedBoardsModule:z,isHomePageBoards:F,isOwner:ed,isProtected:"protected"===q.privacy||X?.privacy==="protected",isSecret:"secret"===q.privacy||X?.privacy==="secret",lastModifiedDate:q.boardOrderModifiedAt??X?.board_order_modified_at??"",layout:et?"square":void 0,locale:V,metaMarginBottom:U,metaMarginTop:O,metaPaddingY:H,name:q.name??(X?.name||""),numberOfCollaborators:ec.length,numCols:eh,onFollow:e=>W((0,y.Z)(e,ee)),onUnfollow:e=>W((0,y.f)(e,ee)),pinCount:B&&ew?ew:void 0,sectionCount:eP??0,sensitivityScreen:ev,showBoardCollaborators:!1!==ei,showFollowButton:I,showTitleOnly:"imageTitle"===L,slotIndex:E,viewerId:es,viewObjectIdStr:M,viewParameter:D,viewType:K}),ek=q.url||X?.url;return!w.includes(L)&&ek?(0,x.jsx)(i.Tg,{dataTestId:"board-rep-tap-area-link",href:G?ek:ek.toLowerCase(),onTap:()=>{if(ex&&ee({aux_data:{board_id:q.entityId,board_pin_count:ew,board_section_count:eP},component:t??1,element:36,event_type:102,view_parameter:49===D?ed?3106:3107:D,view_data:{view_object_id_str:M}}),!G){if((0,f.NC)("click_go_to_board"),R)return void Y(R);Y({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,x.jsx)(i.xu,{ref:S,paddingY:Z?0:et?2:3,children:(0,x.jsx)(P,{isUsingMask:T,setIsHovered:en,children:eS})})}):eS}},223615:function(e,t,a){a.d(t,{Z:()=>f});var n=a(281098),r=a(667294),o=a(20256),l=a(637117),i=a(19585),s=a(906553),d=a(15667),c=a(785893);let u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function f({ownerFullName:e,ownerIsVerifiedMerchant:t,ownerIsVerifiedIdentity:a,numberOfCollaborators:f,size:h="xs",showBoardCollaborators:m=!0}){(0,r.useEffect)(()=>{(0,n.Z)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let p=(0,i.ZP)(),{locale:_}=(0,d.B)(),g=(0,s.Z)();return(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[h].height,children:[(0,c.jsx)(o.xv,{lineClamp:1,size:u[h].text,children:(0,c.jsx)(l.Z,{text:e})}),(t||a)&&(0,c.jsx)(o.xu,{flex:"none",marginStart:1,children:t?(0,c.jsx)(o.kw,{accessibilityLabel:p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-check-circle-fill",size:u[h].icon}):(0,c.jsx)(o.kw,{accessibilityLabel:p._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-check-circle-fill",size:u[h].icon})}),m&&f>0&&(0,c.jsx)(o.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,c.jsx)(o.xv,{size:u[h].text,children:"+ "+g(_,f,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},509120:function(e,t,a){a.d(t,{Z:()=>u});var n=a(281098),r=a(667294),o=a(20256),l=a(785893);function i(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:a}){let[n,o]=(0,r.useState)({height:0,loaded:!1,width:0}),{height:l,loaded:s,width:d}=n;if((0,r.useEffect)(()=>{let e=new Image;e.onload=()=>{o({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=a},[a]),!e||!t||!l||!d)return{loaded:s,position:"center center"};let c=d-t.width,u=l-t.height,f=c>0?i(t.x/c):"center",h=u>0?i(t.y/u):"center";return{loaded:s,position:`${f} ${h}`}}function d(e){let{loaded:t,position:a}=s(e),{imgUrl:n}=e,r={backgroundImage:`url(${n})`,backgroundPosition:a,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,l.jsx)(o.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r},"data-test-id":"cover-image",children:(0,l.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:t,position:a}=s(e),{alt:n,color:r,imgUrl:i}=e;return(0,l.jsx)(o.zd,{height:"100%",width:"100%",children:t&&(0,l.jsx)("img",{alt:n||"",src:i,style:{backgroundColor:r||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:a,width:"100%"}})})}function u(e){(0,r.useEffect)(()=>{(0,n.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,l.jsx)(c,{...e}):(0,l.jsx)(d,{...e})}},298097:function(e,t,a){a.d(t,{Z:()=>S});var n,r,o=a(281098),l=a(667294);a(244311);var i=a(20256),s=a(28427),d=a(19585),c=a(97484),u=a(675973),f=a(15667),h=a(647709),m=a(483858),p=a(271597),_=a(509120),g=a(785893);function y({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:a,privacy:n,size:r=20}){(0,l.useEffect)(()=>{(0,o.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.ZP)();return(0,g.jsx)(i.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:r,justifyContent:"center",rounding:"circle",width:r,children:(0,g.jsx)(i.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===n?"lock":"security",size:a??r/2})})}var b=a(865690),x=a(827644);let v=(void 0!==n||(n=a(237453)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==n.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=(void 0!==r||(r=a(608649)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==r.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),P="100%";function S(e){(0,l.useEffect)(()=>{(0,o.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,d.ZP)(),{boardKey:a,canEdit:n,containerBackgroundColor:r="white",coverPhoto:S,coverPinKey:k,fullSize:j,hideSecretBoardIcon:C,images:A,isActive:z,isHomePageBoards:F,isProtected:Z,isSecret:I,layout:T,onEditClick:B,renderAsImage:E,showSensitivityScreen:L}=e,M=(0,h.HG)(),{isRTL:D,isAuthenticated:K}=(0,f.B)(),R=(0,s.Z)(v,a),$=(0,s.Z)(w,k),O=(0,l.useRef)(null),U=M&&K,{checkExperiment:H}=(0,u.Z)(),[N,G]=(0,l.useState)(!1);(0,l.useEffect)(()=>{z&&U&&R&&!I&&!N&&G(H("ce_dweb_board_preview_share_button").anyEnabled)},[z,U,R,I,N,H]);let W=A[0],V=!S&&A[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),Y=[,,].fill(0),q=new i.Ry(1),J="square"===T?p.M0:p.z9,X="square"===T?p.FP:p.FC,Q=W?.url?(0,g.jsx)(i.Ee,{alt:V,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:W.url}):(0,g.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"}),ee=L?{filter:"blur(20px)"}:{};return(0,g.jsxs)(i.zd,{height:j?"100%":void 0,rounding:4,width:"100%",children:[(0,g.jsxs)(i.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(i.sg,{span:8,children:(0,g.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:ee},height:j?"100%":void 0,position:"relative",children:(0,g.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(i.xu,{ref:O,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:F?"#FFDFE9":r,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(Z||I)&&!C&&(0,g.jsx)(i.xu,{left:!D,margin:2,position:"absolute",right:D,top:!0,zIndex:q,children:(0,g.jsx)(y,{backgroundColor:"default",iconColor:"default",privacy:I?"secret":"protected",size:U?32:24})}),S?.url?(0,g.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(_.Z,{customCover:S.isCustom,height:X,imgPos:$?function(e){let{crop:t,size:a}=e||{};if(Array.isArray(t)&&Array.isArray(a))return{x:t[0]||0,y:t[1]||0,width:a[0]||0,height:a[1]||0}}($):S.position||{width:0,height:0,x:0,y:0},imgUrl:$?.imageUrl??(S.url||""),renderAsImage:E,width:Math.floor(J/3*2)})}):Q]})})})}),(0,g.jsx)(i.sg,{span:4,children:(0,g.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:ee},height:"100%",children:[n&&(0,g.jsxs)(i.xu,{bottom:!0,display:N?"flex":void 0,left:D,margin:2,opacity:+!!z,position:"absolute",right:!D,zIndex:q,children:[N&&(0,g.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,g.jsx)(i.xu,{marginEnd:1,children:(0,g.jsx)(x.Z,{boardKey:R,handleCreatePincode:()=>{},iconColor:"darkGray",isShowShareIcon:!0,size:"sm"})})}),(0,g.jsx)(i.iP,{onTap:({event:e})=>B?.(e),children:(0,g.jsx)(i.hU,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})})]}),Y.map((e,t)=>{let a=S?A[t]:A[t+1];return(0,g.jsx)(i.xu,{height:j?"50%":void 0,position:"relative",children:(0,g.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,g.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:F?"#FFDFE9":r,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:a?.url?(0,g.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(i.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:a.url})}):(0,g.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),L&&(0,g.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(i.X6,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,g.jsx)(m.Z,{visibility:z?"visible":"none",children:(0,g.jsx)(b.Z,{additionalStyles:{backgroundColor:c.Dv.LEGO_WASH}})})]})}},537005:function(e,t,a){a.d(t,{Z:()=>i}),a(167912);var n,r=a(28427),o=a(975740);let l=(void 0!==n||(n=a(879991)).hash&&"756d8d8edca35eac0a0500359bf60618"!==n.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),i=e=>{let t=(0,r.Z)(l,e),a=(0,o.gC)(),n=t?.entityId?a(t.entityId):null,i=t?.imageCoverUrl??n?.image_cover_url,s=t?.coverImageSpec_216x146??n?.cover_images?.spec_216x146,d=t?.coverImageSpec_222x??n?.cover_images?.spec_222x,c=t?.coverImageSpec_400x300??n?.cover_images?.spec_400x300;return e=>{let a=t?.imageCoverHdUrl||t?.imageCoverUrl;if(a)return a;let n=c?.url??d?.url??s?.url??"";return e&&e>2&&n?n:i||""}}},408575:function(e,t,a){a.d(t,{Bw:()=>i,Jx:()=>l,po:()=>n});let n=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),o=e=>{if(!e)return()=>!0;let t=n(e);return e=>"string"==typeof e?n(e)!==t:n(e.url??"")!==t},l=(e,t,a)=>e?e.filter(o(a)):t?t.filter(o(a)).map(r):[],i=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},732347:function(e,t,a){a.d(t,{N4:()=>o,Wh:()=>n,hr:()=>r});let n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},352908:function(e,t,a){a.d(t,{Z:()=>i});var n=a(19585),r=a(647709),o=a(848387),l=a(732347);let i=()=>{let e=(0,n.ZP)(),t=(0,r.HG)(),{viewer:a,loginForMore:i,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,o.m)();return"LIMITED_LOGIN"===a.type?({modalHeader:a,nextLocation:n})=>r=>{let o=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?o=r:r.event&&(o=r.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),i?.setVisible(!0),s?.setText(a||(t?(0,l.hr)(e):(0,l.Wh)(e))),n&&d?.setRoute(n)}:({fn:e})=>e}},207691:function(e,t,a){a.d(t,{Z:()=>o,f:()=>l});var n=a(686319),r=a(548286);function o(e,t){return async a=>{a((0,r.md)(e,!0));try{await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){a((0,r.md)(e,!1))}}}function l(e,t){return async a=>{a((0,r.md)(e,!1));try{await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){a((0,r.md)(e,!0))}}}},854167:function(e,t,a){a.d(t,{Z:()=>m});var n,r=a(281098),o=a(667294);a(167912);var l=a(20256),i=a(679422),s=a(28427),d=a(19585),c=a(896273),u=a(785893);let f=(void 0!==n||(n=a(452525)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==n.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);class h extends o.Component{constructor(...e){var t,a,n;super(...e),a={flyoutOpen:!1},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?n:n+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}render(){let{board:e,bgColor:t="white",children:a,iconColor:n="gray",onCreatePincode:r,size:i="lg"}=this.props,{flyoutOpen:s}=this.state,d={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},f=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},h=a&&a({active:s,onClick:()=>f()})||(0,u.jsx)(l.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:n,onClick:({event:e})=>f(e),selected:s,size:i});return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(l.xu,{ref:e=>{this.anchor=e},children:h}),this.state.flyoutOpen&&(0,u.jsx)(l.mh,{children:(0,u.jsx)(l.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>f(),positionRelativeToAnchor:!1,size:"flexible",children:(0,u.jsx)(c.Z,{component:13216,onCreatePincodeClick:r?()=>{f(),r()}:void 0,onHide:()=>f(),sendType:"board",sharedObject:d,viewType:5})})})]})}componentDidMount(){(0,r.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let m=e=>{(0,o.useEffect)(()=>{(0,r.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,d.ZP)(),a=(0,i.Z)(),n=(0,s.Z)(f,e.boardKey);return(0,u.jsx)(h,{...e,board:n,i18n:t,requireAuth:a,sendBoardButtonRef:e.sendBoardButtonRef})}},827644:function(e,t,a){a.d(t,{Z:()=>_});var n,r=a(281098),o=a(667294);a(244311);var l=a(20256),i=a(980787),s=a(679422),d=a(937392),c=a(28427),u=a(19585),f=a(854167),h=a(277168),m=a(785893);let p=(void 0!==n||(n=a(423347)).hash&&"8d95294efe15498023c69669c6a41e71"!==n.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _({boardKey:e,handleCreatePincode:t,iconColor:a,isShowShareIcon:n,size:_="lg"}){(0,o.useEffect)(()=>{(0,r.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:g}=(0,i.u)(),y=(0,u.ZP)(),b=(0,s.Z)(),x=(0,o.useRef)(null),v=(0,c.Z)(p,e);return(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(f.Z,{boardKey:v,iconColor:a,onCreatePincode:t,onOpen:()=>{if(b)return void b();(0,h.Z)(g)},sendBoardButtonRef:x,size:_,children:n?void 0:({onClick:e})=>(0,m.jsx)(l.xu,{"data-test-id":"board-share-button-auth",children:(0,m.jsx)(l.zx,{ref:x,color:"gray",fullWidth:!0,onClick:e,size:_,text:y._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')})})}),(0,m.jsx)(d.N,{anchors:{3018:x.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},277168:function(e,t,a){function n(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}a.d(t,{Z:()=>n})},400741:function(e,t,a){a.d(t,{Z:()=>f});var n=a(281098),r=a(667294),o=a(20256),l=a(475498),i=a(19585),s=a(886981),d=a(647709),c=a(785893);function u({ideaPinImages:e}){(0,r.useEffect)(()=>{(0,n.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let t=e.map((e,t)=>(0,c.jsx)(o.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,c.jsx)(o.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,c.jsx)(o.kC,{justifyContent:"center",children:(0,c.jsx)(o.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function f({handleHide:e,text:t,userId:a,href:f,imageUrl:h}){(0,r.useEffect)(()=>{(0,n.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let m=(0,i.ZP)(),p=(0,d.HG)(),_=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:a}}),g=Array.isArray(t)?t.join(" "):t;if(0===(_.data||[]).length)return(0,c.jsx)(l.Z,{duration:5e3,href:f,onHide:e,text:g,thumbnail:h?{image:(0,c.jsx)(o.Ee,{alt:m._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:h})}:void 0});let y=(_.data||[]).slice(0,3).map(e=>e.images?.[p?"236x":"170x"]),b=(0,c.jsx)(u,{ideaPinImages:y});return(0,c.jsx)(l.Z,{_dangerouslySetThumbnail:b,duration:5e3,href:f,onHide:e,text:g})}},921825:function(e,t,a){a.d(t,{$:()=>g,G:()=>y});var n=a(281098),r=a(667294),o=a(422578),l=a(616550),i=a(825332),s=a(274320),d=a(15667);function c(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}let u={"/collage-creation-tool":{loader:()=>Promise.all([a.e("8126"),a.e("50444")]).then(a.bind(a,31156)).then(e=>e.default),rootComponent:()=>Promise.all([a.e("25418"),a.e("19007"),a.e("57207"),a.e("8126"),a.e("32060"),a.e("89568"),a.e("17842"),a.e("76201")]).then(a.bind(a,298742)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([a.e("25418"),a.e("996")]).then(a.bind(a,589382)).then(e=>e.default),rootComponent:()=>Promise.all([a.e("25418"),a.e("47336")]).then(a.bind(a,671804)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>a.e("62315").then(a.bind(a,540803)).then(e=>e.default),rootComponent:()=>Promise.all([a.e("25418"),a.e("15417"),a.e("16868"),a.e("97074"),a.e("95776"),a.e("12697"),a.e("16829")]).then(a.bind(a,743936)).then(e=>e.default)},"/today/":{loader:()=>a.e("42207").then(a.bind(a,489815)).then(e=>e.default),rootComponent:()=>Promise.all([a.e("25418"),a.e("36140"),a.e("91678")]).then(a.bind(a,682910)).then(e=>e.default)}};var f=a(603316),h=a(785893);let m=(0,r.createContext)(null),p=/(^\/)|:|(\/$)/g,_=/\//g,g=({children:e})=>{(0,r.useEffect)(()=>{(0,n.Z)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,o.useRelayEnvironment)(),{checkExperiment:a}=(0,s.r)(),c=(0,d.B)(),u=(0,r.useRef)({}),g=(0,r.useCallback)(e=>{let{rootComponent:n,loadedValueState:r}=x(b(u.current,e),e,"Both",t,a,c);return"NotYetRendered"===r.performanceLoggingState.kind&&(r.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:n,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===r.performanceLoggingState.kind){let a=Date.now();(0,f.LY)("entrypointRouter.routeTiming."+e.kind.replace(p,"").replace(_,"_"),a-r.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),r.performanceLoggingState={kind:"Complete"}}},loadedValue:r.loadedValue}},[a,t,c]),y=(0,i.s0)(),v=(0,r.useCallback)(e=>{x(b(u.current,e),e,"Both",t,a,c),y((0,l.Gn)(e.kind,e.routeParams))},[y,a,t,c]),w=(0,r.useCallback)((e,n)=>{let r=b(u.current,e);"Both"===n&&x(r,e,n,t,a,c)},[a,t,c]),P=(0,r.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:g,preload:w,imperativelyNavigate:v}),[g,v,w]);return(0,h.jsx)(m,{value:P,children:e})};function y(){let e=(0,r.useContext)(m);if(null==e)throw Error("Missing entrypoint context");return e}function b(e,t){let a=u[t.kind];if(null==a)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");return e[t.kind]??={rootComponent:c(a.rootComponent()),loadedValueStates:{},loader:c(a.loader())}}function x(e,t,a,n,r,o){var l;let i=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let a=Object.keys(t).sort(),n={};for(let r=0;r<a.length;r++)n[a[r]]=e(t[a[r]]);return n}(t.routeParams)),{loadedValueStates:s,rootComponent:d,loader:u}=e;return{rootComponent:d,loadedValueState:s[i]??=(l=t.kind,setTimeout(()=>{let e=s[i];null!=e&&(0,f.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:l,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){var a,n;let{result:r}=e;switch(r.kind){case"Pending":return c(r.promise.then(t));case"Ok":return{result:{kind:"Ok",value:a=t(r.value)},read:()=>a};case"Err":return{result:{kind:"Err",error:n=r.error},read:()=>{throw n}};default:throw Error("Unexpected case")}}(u,e=>e({routeParams:t.routeParams,relayEnvironment:n,checkExperiment:r,requestContext:o})),performanceLoggingState:{kind:"NotYetRendered"}})}}},216019:function(e,t,a){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(null,arguments)}a.d(t,{Z:()=>n})},920727:function(e,t,a){a.d(t,{Z:()=>r});var n=a(986143);function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},70443:function(e,t,a){function n(e,t){if(null==e)return{};var a={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}a.d(t,{Z:()=>n})},986143:function(e,t,a){function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}a.d(t,{Z:()=>n})},121835:function(e,t,a){a.d(t,{Z:()=>n});function n(e,t){if(!e)throw Error("Invariant failed")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92085-ae7bc2d5cc630678.mjs.map