(self.modernJsonp=self.modernJsonp||[]).push([["88348"],{701305:function(e){var t=[],a=[];e.exports=function(e,r){var n=t.length?t.pop():[],i=a.length?a.pop():[],l=function e(t,a,r,n){if(t===a)return 0!==t||1/t==1/a;if(null==t||null==a||"object"!=typeof t||"object"!=typeof a)return!1;var i=Object.prototype.toString,l=i.call(t);if(l!=i.call(a))return!1;switch(l){case"[object String]":return t==String(a);case"[object Number]":return!(isNaN(t)||isNaN(a))&&t==Number(a);case"[object Date]":case"[object Boolean]":return+t==+a;case"[object RegExp]":return t.source==a.source&&t.global==a.global&&t.multiline==a.multiline&&t.ignoreCase==a.ignoreCase}for(var o=r.length;o--;)if(r[o]==t)return n[o]==a;r.push(t),n.push(a);var s=0;if("[object Array]"===l){if((s=t.length)!==a.length)return!1;for(;s--;)if(!e(t[s],a[s],r,n))return!1}else{if(t.constructor!==a.constructor)return!1;if(t.hasOwnProperty("valueOf")&&a.hasOwnProperty("valueOf"))return t.valueOf()==a.valueOf();var d=Object.keys(t);if(d.length!=Object.keys(a).length)return!1;for(var u=0;u<d.length;u++)if(!e(t[d[u]],a[d[u]],r,n))return!1}return r.pop(),n.pop(),!0}(e,r,n,i);return n.length=0,i.length=0,t.push(n),a.push(i),l}},60139:function(e){function t(e){return function(){return e}}var a=function(){};a.thatReturns=t,a.thatReturnsFalse=t(!1),a.thatReturnsTrue=t(!0),a.thatReturnsNull=t(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},663620:function(e,t,a){e.exports=a(60139)},108679:function(e,t,a){var r=a(121296),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return r.isMemo(e)?l:o[e.$$typeof]||n}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=l;var d=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,a,r){if("string"!=typeof a){if(f){var n=_(a);n&&n!==f&&e(t,n,r)}var l=u(a);c&&(l=l.concat(c(a)));for(var o=s(t),m=s(a),g=0;g<l.length;++g){var h=l[g];if(!i[h]&&!(r&&r[h])&&!(m&&m[h])&&!(o&&o[h])){var y=p(a,h);try{d(t,h,y)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&Symbol.for,r=a?Symbol.for("react.element"):60103,n=a?Symbol.for("react.portal"):60106,i=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,o=a?Symbol.for("react.profiler"):60114,s=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,u=a?Symbol.for("react.async_mode"):60111,c=a?Symbol.for("react.concurrent_mode"):60111,p=a?Symbol.for("react.forward_ref"):60112,_=a?Symbol.for("react.suspense"):60113,f=a?Symbol.for("react.memo"):60115,m=a?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case c:case i:case o:case l:case _:return e;default:switch(e=e&&e.$$typeof){case d:case p:case s:return e;default:return t}}case m:case f:case n:return t}}}function h(e){return g(e)===c}t.typeOf=g,t.AsyncMode=u,t.ConcurrentMode=c,t.ContextConsumer=d,t.ContextProvider=s,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=m,t.Memo=f,t.Portal=n,t.Profiler=o,t.StrictMode=l,t.Suspense=_,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===l||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return h(e)||g(e)===u},t.isConcurrentMode=h,t.isContextConsumer=function(e){return g(e)===d},t.isContextProvider=function(e){return g(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===i},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===f},t.isPortal=function(e){return g(e)===n},t.isProfiler=function(e){return g(e)===o},t.isStrictMode=function(e){return g(e)===l},t.isSuspense=function(e){return g(e)===_}},121296:function(e,t,a){e.exports=a(396103)},441143:function(e){e.exports=function(e,t,a,r,n,i,l,o){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,r,n,i,l,o],u=0;(s=Error(t.replace(/%s/g,function(){return d[u++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},892703:function(e,t,a){var r=a(150414);function n(){}e.exports=function(){function e(e,t,a,n,i,l){if(l!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},45697:function(e,t,a){e.exports=a(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var a="function"==typeof Symbol&&Symbol.for,r=a?Symbol.for("react.element"):60103,n=a?Symbol.for("react.portal"):60106,i=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,o=a?Symbol.for("react.profiler"):60114,s=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,u=a?Symbol.for("react.async_mode"):60111,c=a?Symbol.for("react.concurrent_mode"):60111,p=a?Symbol.for("react.forward_ref"):60112,_=a?Symbol.for("react.suspense"):60113,f=a?Symbol.for("react.suspense_list"):60120,m=a?Symbol.for("react.memo"):60115,g=a?Symbol.for("react.lazy"):60116,h=a?Symbol.for("react.block"):60121,y=a?Symbol.for("react.fundamental"):60117,x=a?Symbol.for("react.responder"):60118,b=a?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case c:case i:case o:case l:case _:return e;default:switch(e=e&&e.$$typeof){case d:case p:case g:case m:case s:return e;default:return t}}case n:return t}}}function v(e){return w(e)===c}t.AsyncMode=u,t.ConcurrentMode=c,t.ContextConsumer=d,t.ContextProvider=s,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=n,t.Profiler=o,t.StrictMode=l,t.Suspense=_,t.isAsyncMode=function(e){return v(e)||w(e)===u},t.isConcurrentMode=v,t.isContextConsumer=function(e){return w(e)===d},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===n},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===l},t.isSuspense=function(e){return w(e)===_},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===l||e===_||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===h)},t.typeOf=w},659864:function(e,t,a){e.exports=a(869921)},78273:function(e,t,a){function r(e){return"/"===e.charAt(0)}function n(e,t){for(var a=t,r=a+1,n=e.length;r<n;a+=1,r+=1)e[a]=e[r];e.pop()}a.d(t,{Z:()=>i});let i=function(e,t){void 0===t&&(t="");var a,i=e&&e.split("/")||[],l=t&&t.split("/")||[],o=e&&r(e),s=t&&r(t),d=o||s;if(e&&r(e)?l=i:i.length&&(l.pop(),l=l.concat(i)),!l.length)return"/";if(l.length){var u=l[l.length-1];a="."===u||".."===u||""===u}else a=!1;for(var c=0,p=l.length;p>=0;p--){var _=l[p];"."===_?n(l,p):".."===_?(n(l,p),c++):c&&(n(l,p),c--)}if(!d)for(;c--;)l.unshift("..");!d||""===l[0]||l[0]&&r(l[0])||l.unshift("");var f=l.join("/");return a&&"/"!==f.substr(-1)&&(f+="/"),f}},413944:function(e,t,a){a.r(t),a.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRepLayout_board",selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],type:"Board",abstractKey:null};r.hash="3a3b11ab8e6b0168ab15bd00526cd80c";let n=r},159985:function(e,t,a){a.r(t),a.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaMobileContextMenuButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};r.hash="402fb795ee064cb0f97d1d8d4205a7db";let n=r},527272:function(e,t,a){a.r(t),a.d(t,{default:()=>n});let r=(i={defaultValue:null,kind:"LocalArgument",name:"displayTypes"},l={defaultValue:null,kind:"LocalArgument",name:"feedSourceTypes"},o={defaultValue:null,kind:"LocalArgument",name:"interestId"},s={defaultValue:null,kind:"LocalArgument",name:"numArticles"},d={defaultValue:null,kind:"LocalArgument",name:"scoreThreshold"},u=[{kind:"Variable",name:"displayTypes",variableName:"displayTypes"},{kind:"Variable",name:"feedSourceTypes",variableName:"feedSourceTypes"},{kind:"Variable",name:"interestId",variableName:"interestId"},{kind:"Variable",name:"numArticles",variableName:"numArticles"},{kind:"Variable",name:"scoreThreshold",variableName:"scoreThreshold"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},h=[f={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],P=[p,y={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},w={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:[i,l,o,s,d],kind:"Fragment",metadata:null,name:"IdeasHubArticleRowGraphQLModuleQuery",selections:[{alias:null,args:u,concreteType:null,kind:"LinkedField",name:"v3GetHubPageTodayArticlesQuery",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TodayArticle",kind:"LinkedField",name:"data",plural:!0,selections:[p,_,{args:null,kind:"FragmentSpread",name:"TodayArticleModule"}],storageKey:null}],type:"V3GetHubPageTodayArticles",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,d,s,l,i],kind:"Operation",name:"IdeasHubArticleRowGraphQLModuleQuery",selections:[{alias:null,args:u,concreteType:null,kind:"LinkedField",name:"v3GetHubPageTodayArticlesQuery",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TodayArticle",kind:"LinkedField",name:"data",plural:!0,selections:[p,_,c,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},p,{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[p,b,x,y,w,v],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:P,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[p,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},m,g],storageKey:null}],storageKey:null},v],storageKey:null},v],storageKey:null},v],storageKey:null}],type:"V3GetHubPageTodayArticles",abstractKey:null}],storageKey:null}]},params:{id:"04c021e1ecbd96ddeadd9e4ba259b8f9d0d9c94c05f88b53da855e76c6aca42b",metadata:{},name:"IdeasHubArticleRowGraphQLModuleQuery",operationKind:"query",text:null}});r.hash="c574310e23883590b7208a1cf496378a";let n=r;var i,l,o,s,d,u,c,p,_,f,m,g,h,y,x,b,w,v,P,j=r.default||r;if("query"===j.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(j);else{let e=[j.params.name,j.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=j}},141317:function(e,t,a){a.r(t),a.d(t,{default:()=>n});let r={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"displayTypes"},l={defaultValue:null,kind:"LocalArgument",name:"feedSourceTypes"},o={defaultValue:null,kind:"LocalArgument",name:"interestId"},s={defaultValue:null,kind:"LocalArgument",name:"numBoards"},d={defaultValue:null,kind:"LocalArgument",name:"scoreThreshold"}],kind:"Fragment",metadata:null,name:"IdeasHubFeaturedBoardRowModuleQuery",selections:[{alias:null,args:u=[{kind:"Variable",name:"displayTypes",variableName:"displayTypes"},{kind:"Variable",name:"feedSourceTypes",variableName:"feedSourceTypes"},{kind:"Variable",name:"interestId",variableName:"interestId"},{kind:"Variable",name:"numBoards",variableName:"numBoards"},{kind:"Variable",name:"scoreThreshold",variableName:"scoreThreshold"}],concreteType:null,kind:"LinkedField",name:"v3GetHubPageFeaturedBoardsQuery",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[p={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"EditorialBoardModule"}],storageKey:null}],type:"V3GetHubPageFeaturedBoards",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,d,s,l,i],kind:"Operation",name:"IdeasHubFeaturedBoardRowModuleQuery",selections:[{alias:null,args:u,concreteType:null,kind:"LinkedField",name:"v3GetHubPageFeaturedBoardsQuery",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[p,c,{alias:"boardId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boardSubtitle",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},_],storageKey:null}],type:"V3GetHubPageFeaturedBoards",abstractKey:null}],storageKey:null}]},params:{id:"94e7873da7e554c55c25686bbc35e5a55c9e0c7a117c5e12f10ec70fa87d3879",metadata:{},name:"IdeasHubFeaturedBoardRowModuleQuery",operationKind:"query",text:null}};r.hash="b62f3212b6bff4c74e2af1ba78da10fb";let n=r;var i,l,o,s,d,u,c,p,_,f=r.default||r;if("query"===f.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(f);else{let e=[f.params.name,f.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=f}},937805:function(e,t,a){a.d(t,{Z:()=>l});var r=a(675973),n=a(15667),i=a(647709);function l(){let{isAuthenticated:e}=(0,n.B)(),t=(0,i.ml)(),{checkExperiment:a}=(0,r.Z)();return{mWebCloseupRedesignEnabled:e&&t&&a("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:a("mweb_closeup_redesign").group}}},845556:function(e,t,a){a.d(t,{G:()=>n,m:()=>r});let r=({interestId:e,isInternalPreview:t})=>({field_set_key:"ideas_hub",get_page_metadata:!0,interest:e,is_internal_preview:!!t}),n=({interestId:e,overrideIds:t})=>({add_vase:!0,field_set_key:"unauth_react",img_nii:!0,interest:e,override_ids:t||[]})},790314:function(e,t,a){a.d(t,{DW:()=>i,I:()=>n,Rn:()=>o,e3:()=>u,oo:()=>r,rk:()=>d,t7:()=>s,zI:()=>l});let r=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},n=.18,i=(e,t,a)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(a/255)**2.2,l=e=>{let t=e.replace("#",""),a=parseInt(t.substr(0,2),16);return(299*a+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},o=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:a,minSaturationClamp:n,mixVal:i=1,minBrightnessClamp:l=0})=>{let o=r(e);null===o&&(o=[229,229,224]);let s=((e,t,a)=>{let r=Math.max(e/=255,t/=255,a/=255),n=r-Math.min(e,t,a),i=0;return 0!==n&&(i=(r===e?(t-a)/n+6*(t<a):r===t?(a-e)/n+2:(e-t)/n+4)*60)<0&&(i+=360),{h:i,s:0===r?0:n/r,b:r}})(...o),d=(e,t,a)=>Math.max(t,Math.min(e,a));s.s=d(s.s*(1+t),n,1),s.b=d(s.b*(1+a),l,1);let u=(({h:e,s:t,b:a})=>{let r=a*t,n=r*(1-Math.abs(e/60%2-1)),i=a-r,l=0,o=0,s=0;return e<60?(l=r,o=n):e<120?(l=n,o=r):e<180?(o=r,s=n):e<240?(o=n,s=r):e<300?(l=n,s=r):(l=r,s=n),{r:Math.round((l+i)*255),g:Math.round((o+i)*255),b:Math.round((s+i)*255)}})({...s}),c=e=>({r:Math.round(u.r*i+e*(1-i)),g:Math.round(u.g*i+e*(1-i)),b:Math.round(u.b*i+e*(1-i))}),p=c(0),_=c(255);return[[p.r,p.g,p.b],[_.r,_.g,_.b]]};function s(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),a="rgba"===t.slice(0,4).toLowerCase(),r=!a&&"rgb"===t.slice(0,3).toLowerCase();if(!a&&!r)return{r:0,g:0,b:0,a:0};let n=t.indexOf("("),i=t.indexOf(")",n);if(-1===n||-1===i)return{r:0,g:0,b:0,a:0};let l=t.slice(n+1,i).split(",").map(e=>e.trim());if(a&&4!==l.length||r&&3!==l.length)return{r:0,g:0,b:0,a:0};let[o,s,d,u]=l,c=Number(o),p=Number(s),_=Number(d),f=a?Number(u):1;return[c,p,_].some(e=>Number.isNaN(e))||a&&Number.isNaN(f)?{r:0,g:0,b:0,a:0}:{r:c,g:p,b:_,a:f}}function d(e,t){let a=e.a+t.a*(1-e.a);return 0===a?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/a),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/a),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/a),a}}let u=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`},140725:function(e,t,a){a.d(t,{Q:()=>s,Z:()=>d});var r=a(667294),n=a(521009),i=a(346955),l=a(991384),o=a(15667);function s(e,t){let{setViewContextData:a}=(0,i.A$)(),{requestIdentifier:s}=(0,o.B)(),d=(0,n.Z)(),{viewData:u}=(0,i.SU)();(0,r.useEffect)(()=>{e&&(a({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(u,e.view_data):u,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:a}=e;return s(a),t||null}},670622:function(e,t,a){a.d(t,{Z:()=>l});var r=a(410156),n=a(19585),i=a(302148);function l(){let e=(0,n.ZP)();return function(t,a){let n=new Date(t).getTime(),l=Date.now()-n,o=Math.floor(l/r.FS),s=Math.floor(l/r.UK),d=Math.floor(l/r.F4),u=Math.floor(l/r.VL),c=Math.floor(l/r.N9),p=Math.floor(l/r.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', o, ' - ', ' -- '),f=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),h=e.ngettext('{{ months }} month ago', '{{ months }} months ago', c, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),y=e.ngettext('{{ years }} year ago', '{{ years }} years ago', p, ' - ', ' -- '),x=e.ngettext('{{ minutes }}m', '{{ minutes }}m', o, 'minutes ago abbreviated', 'minutes ago abbreviated'),b=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),w=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),v=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),P=e.ngettext('{{ months }}mo', '{{ months }}mo', c, 'months ago abbreviated', 'months ago abbreviated'),j=e.ngettext('{{ years }}y', '{{ years }}y', p, 'years ago abbreviated', 'years ago abbreviated');return p>0?(0,i.nk)(a?j:y,{years:p}).join(""):c>0?(0,i.nk)(a?P:h,{months:c}).join(""):u>0?(0,i.nk)(a?v:g,{weeks:u}).join(""):d>0?(0,i.nk)(a?w:m,{days:d}).join(""):s>0?(0,i.nk)(a?b:f,{hours:s}).join(""):o>0?(0,i.nk)(a?x:_,{minutes:o}).join(""):e._('Just now', ' - ', ' -- ')}}},267828:function(e,t,a){function r(e,t,a){return!!(e&&e.trim().length>0&&t&&!a)}a.d(t,{r:()=>r})},622481:function(e,t,a){a.d(t,{Z:()=>r});let r=(0,a(667294).createContext)(null)},282803:function(e,t,a){a.d(t,{Z:()=>r});let r=(0,a(667294).createContext)(null)},255957:function(e,t,a){a.d(t,{Z:()=>R});var r=a(281098),n=a(667294),i=a(286036),l=a(457636),o=a(592109),s=a(901360),d=a(392824),u=a(67831),c=a(703393),p=a(735201),_=a(868178),f=a(891631),m=a(594885),g=a(579358),h=a(970773),y=a(361423),x=a(15667),b=a(112114),w=a(603316),v=a(785893);let P=["initial_app_load","client_route_push"],j=(0,o.XV)("PwtSurface"),S="NavigationComplete",A="VisuallyComplete",T=()=>{(0,p._T)()},k=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let a=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t])),{metricConfig:{metricId:r,pwtStaticContext:n,annotateExperiments:i},annotations:o,binaryAnnotations:u,constraintMap:_,startTime:f,imageTimings:m,spans:h,traceId:y}=e;(0,d.L8)(`Report_PWT_Complete_${(0,l.KJ)(r)}`,f,a);let x=(0,c.W)({annotateExperiments:[...i??[]],annotations:o,binaryAnnotations:u,constraintMap:_,endTime:a,imageTimings:m,metricId:r,pwtStaticContext:n,startTime:f,traceId:y,spans:h});try{var t=String(x.binaryAnnotationMap["metricId.surface"].value);let e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let a=t.name.replace(".jpg","").split("/");return{[a[a.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(t=>{let a=t.src.replace(".jpg","").split("/"),r=a[a.length-1];if(e[r]){let a=(0,g.rZ)(t)?.width||1,n=e[r].downloadSize;return{fileName:r,renderedSize:a,downloadedSize:n,ratio:n/a}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let a=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=a[a.length-1];if(e[r]&&t instanceof HTMLDivElement){let a=(0,g.rZ)(t)?.width||1,n=e[r].downloadSize;return{fileName:r,renderedSize:a,downloadedSize:n,ratio:n/a}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:a,fileName:r,downloadedSize:n}=e;e.ratio>1.05&&(0,s.A9)(`checkImageRatio.${t}`,{count:Math.round(10*a)/10,tags:{fileName:`${n}_${r}`}})})}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,p._T)(),{...e,result:x,status:"DONE"}}return j(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},I=(e,t)=>{let{constraint:a,time:r}=t,n=(0,l.KJ)(e.metricConfig.metricId);return y.Z?e.metricConfig.constraints.find(e=>e===a)?e.constraintMap[a]?(j(`constraint "${a}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:a,action:n}),e):(j(`marking constraint "${a}" as complete ${r||performance.now()}`),r?(0,d.ZP)(`constraint_${a}_is_complete`,r):(0,d.ZP)(`constraint_${a}_is_complete`),k({...e,constraintMap:{...e.constraintMap,[a]:r||y.Z.now()}})):(j(`marked constraint "${a}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:n}),e)},C=(e,t)=>{if(j("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:a,startTime:r,isSampled:n,disablePWTLogging:i}=t;if(i||"TIMING"!==e.status||r===e.startTime||T(),!a)return{status:"DISABLED",metricConfig:null};let o=(0,l.KJ)(a.metricId);if("TIMING"===e.status&&e.startTime===r&&e.constraintMap[S])return(0,s.H)("duplicated_init_route_action",{action:o}),e;if(!i){let e=(0,b.H)();(0,s.A9)(`handler.${o}`,{tags:{handler:e}});let t=void 0!==a.metricId.isAuthenticated&&{tags:{isAuth:a.metricId.isAuthenticated}}||void 0;"Other"===a.pwtStaticContext.browserName&&!1===a.metricId.isAuthenticated&&"initial_app_load"===a.metricId.navigationType?((0,s.A9)(`TIMING.${o}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${o}`),(0,s.A9)(`TIMING.sampled.${o}`,{sampleRate:.03})),(0,_.C)({resultLog:`TIMING.${o}`,annotateExperiments:a.annotateExperiments||[],getExperimentGroup:a.pwtStaticContext.getExperimentGroup,options:t})}return I({traceId:(0,p.vc)()||(0,p.ZP)("initial_app_load"===a.metricId.navigationType,a.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:a,startTime:r,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:n,spans:[]},{constraint:S,disablePWTLogging:i})})(e,t.payload);if("TIMING"!==e.status)return j(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":T();let a={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:a};case"ANNOTATE":let{name:r}=t.payload;if(!y.Z)return e;let n=y.Z.now();return j(`adding annotation {${r}: ${n}}`),{...e,annotations:{...e.annotations,...{[r]:n}}};case"BINARY_ANNOTATE":let{name:i,value:o,annotationType:d}=t.payload;return j(`adding binary annotation {${i}: ${o}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[i]:{value:o,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return I(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!y.Z){let t=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}j(`removing constraint "${t}"`);let a=e.metricConfig.constraints.filter(e=>e!==t),{[t]:r,...n}=e.constraintMap;return k({...e,constraintMap:n,metricConfig:{...e.metricConfig,constraints:a}})})(e,t.payload);case"SET_SEGMENT":var u=t.payload;if(!y.Z){let t=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}j(`updating pwt segment to "${u}"`);let c={...e.metricConfig.metricId,segment:u};return{...e,metricConfig:{...e.metricConfig,metricId:c}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:a}}=t;if(0===a.length)return T(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let r=Math.max(...a.map(e=>e.responseEnd||0));return I({...e,imageTimings:a},{constraint:A,time:r})}case"ADD_SUBSPAN":let{startTime:f}=e,{payload:{name:m,startTime:g,endTime:x,annotations:w,binaryAnnotations:v,parentId:P}}=t;return{...e,spans:[...e.spans,{name:m,id:(0,h.Z)(),startTime:g||f,endTime:x,annotationMap:{...w},binaryAnnotationMap:{...v},parentId:P}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,h.Z)(),startTime:y.Z?y.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let C=e.spans.findIndex(e=>e.name===t.payload.name);return C>-1?(e.spans[C].endTime=y.Z?y.Z.now():0,t.payload.annotations&&(e.spans[C].annotationMap={...e.spans[C].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[C].binaryAnnotationMap={...e.spans[C].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let E=(0,l.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:E}),e}},E=new Set;function R({children:e,...t}){(0,n.useEffect)(()=>{(0,r.Z)("PwtSurface","/app/packages/pwt-logger/PwtSurface.tsx")},[]);let a=(0,f.Z)(),o=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(a),d=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],c=[...t.annotateExperiments??[],...d],{context:p}=(({surface:e,constraints:t,segment:a,measureGridVisuallyComplete:r,annotateExperiments:l,customEnabledNavigationTypes:o,navigationInfo:{clientNavigation:s,navigationType:d},sampleRate:u})=>{let c=(0,n.useRef)("NOT_SET"),p=(0,m.Z)(),{getState:_,dispatch:f}=((e,t)=>{let a=(0,n.useRef)(t);return{getState:()=>a.current,dispatch:t=>{a.current=e(a.current,t)}}})(C,{status:"DISABLED",metricConfig:null}),g=(0,x.B)();if(c.current!==s&&(c.current=s,p)){let{isAuthenticated:n}=p,i=e&&d&&(o||P).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:n,segment:a},annotateExperiments:l,constraints:[S,...t||[],...r?[A]:[]],pwtStaticContext:p}:null;(0,w.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:n}});let c=!E.has(s);f({type:"INIT_ROUTE",payload:{metricConfig:i,startTime:s?s.time:0,isSampled:!u||Math.random()<u,disablePWTLogging:!c}}),c&&E.add(s)}let h=_();if((0,n.useEffect)(()=>()=>{E.delete(s)},[s]),(0,n.useEffect)(()=>{let e=e=>{f({type:"ABORT",reason:e})};i.Z.onSessionPause(e);let t=window.innerHeight,a=window.innerWidth,r=()=>{let e=Math.abs(window.innerHeight-t),n=Math.abs(window.innerWidth-a),i=window.innerHeight!==t,l=window.innerWidth!==a,o={handler:(0,b.H)(),deviceType:p?.deviceType??"unknown",isAuthenticated:p?.isAuthenticated??"unknown",platform:g.userAgent.platform??"unknown"};if((0,w.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...o,heightChanged:i,widthChanged:l}}),i&&(0,w.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:o}),l&&(0,w.S0)("webapp.PwtLogger.resizeWidthDelta",n,{sampleRate:1,tags:o}),window.removeEventListener("resize",r),p?.deviceType==="phone"&&(!l&&i&&e<=150||!i&&!l)||p?.deviceType==="desktop"&&!i&&!l)return void(0,w.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...o,heightChanged:i,widthChanged:l}});f({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",r),()=>{let t=_();j("handling unmount",t),"TIMING"===t.status&&T(),i.Z.removePauseListener(e),window.removeEventListener("resize",r)}},[]),"TIMING"!==h.status||!h.constraintMap[S])return{state:h,context:null};let{startTime:v,metricConfig:k}=h;return{state:h,context:{abort:e=>f({type:"ABORT",reason:e}),addAnnotation:e=>f({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,a)=>f({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:a}}),addSubspan:(e,t,a,r={},n={},i=null)=>f({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:a,annotations:r,binaryAnnotations:n,parentId:i}}),getId:()=>v,getMetricId:()=>k.metricId,markConstraintComplete:e=>f({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:y.Z?y.Z.now():0}}),removeConstraint:e=>f({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>f({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:k.constraints.includes(A)?e=>f({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},a={},r=null)=>f({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:a,parentId:r}}),stopSubspan:(e,t={},a={},r=null)=>f({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:a,parentId:r}})}}})({...t,annotateExperiments:c,navigationInfo:{navigationType:o,clientNavigation:a}}),_=(0,u.A)(),g=!!_;return(0,n.useEffect)(()=>{if(g){let e=_?.getMetricId(),t=e?(0,l.KJ)(e):null;(0,s.H)("nested_pwt_surface",{action:t})}},[g]),(0,v.jsx)(u.S,{value:p,children:e})}},891631:function(e,t,a){a.d(t,{Z:()=>i});var r=a(667294),n=a(622481);function i(){return(0,r.useContext)(n.Z)}},594885:function(e,t,a){a.d(t,{Z:()=>i});var r=a(667294),n=a(282803);function i(){return(0,r.useContext)(n.Z)}},15667:function(e,t,a){a.d(t,{B:()=>i,P2:()=>o,Ts:()=>n,gf:()=>l});let r=a(146663),{getRequestContext:n}=r,{useRequestContext:i}=r,{useUpdateRequestContext:l}=r,{RequestContextProvider:o}=r},146663:function(e,t,a){a.r(t),a.d(t,{RequestContextProvider:()=>d,getRequestContext:()=>s,useRequestContext:()=>u,useUpdateRequestContext:()=>c});var r=a(667294),n=a(324529),i=a(734215),l=a(785893);let o=(0,r.createContext)(null);function s(){return(0,r.use)(o).requestContextState}function d({children:e,initialValue:t}){let[a,s]=(0,r.useState)(t),d=(0,r.useMemo)(()=>({requestContextState:a,updateRequestContext:e=>{let t={...a,...e};(0,i.Z)(a,e)||s(t),(0,n.J)(t)}}),[a]);return(0,l.jsx)(o,{value:d,children:e})}function u(){let e=(0,r.useContext)(o);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function c(){let e=(0,r.useContext)(o);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},461920:function(e,t,a){function r(e,t){let a;if(e.error){let{httpStatus:r,api_error_code:n,redirectUrl:i}=e.error;(404===r||401===r&&7===n)&&(a={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===r&&i&&(a={pathname:i})}return a}a.d(t,{Z:()=>r})},244347:function(e,t,a){a.d(t,{Z:()=>i});var r=a(378888),n=a(215295);function i(e){if(!e)return"";let{directory:t,queryKey:a}=(0,n.Z)((0,r.Gw)(e,["request_params"]));return t+"?"+Object.keys(a).sort().map(e=>`${e}=${a[e]}`).join("&")}},712064:function(e,t,a){a.d(t,{Ht:()=>o,Tb:()=>l,q7:()=>i});var r=a(244347),n=a(940280);function i({topPinIds:e,paidPinId:t}){let a=[];return t&&a.push(t),e&&a.push(e),a.length>0?a.join(","):void 0}function l({appliedProductFilters:e,appliedUnifiedFilters:t,autoCorrectionDisabled:a,filters:r,journeyDepth:n,query:i,rs:l,scope:o,selectedOneBarModules:s,selectedPinImgSig:d,sourceId:u,sourceModuleId:c,topPinIds:p,user:_}){let f=[e,r,n,i,l,o,s,d,u,c,t,p,_].map(e=>e??"").join(":");return a?"auto-correction-disabled:"+f:f}function o(e){let{appliedProductFilters:t,appliedUnifiedFilters:a,autoCorrectionDisabled:i,bubbleId:l,domains:o,filters:s,guidedSearchQuery:d,journeyDepth:u,pageSize:c,priceMax:p,priceMin:_,query:f,requestParams:m,rs:g,scope:h,selectedOneBarModules:y,selectedPinImgSig:x,seoDrawerEnabled:b,sourceId:w,sourceModuleId:v,sourceUrl:P,topPinIds:j,user:S}=e;return{name:"BaseSearchResource",options:function({appliedUnifiedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:a=!1,bubbleId:i=null,domains:l=null,filters:o=null,journeyDepth:s=null,pageSize:d=null,priceMax:u=null,priceMin:c=null,query:p="",requestParams:_=null,rs:f=n.i.DIRECT_NAVIGATION,scope:m="pins",selectedOneBarModules:g=null,selectedPinImgSig:h=null,seoDrawerEnabled:y=!1,sourceId:x=null,sourceModuleId:b=null,sourceUrl:w=null,topPinIds:v=null,user:P}){return{applied_unified_filters:e,appliedProductFilters:t,article:i,auto_correction_disabled:a,corpus:h?"personalize":null,customized_rerank_type:h?"manas_graph_sage_only_wand_rewrite":null,domains:l,filters:o,journey_depth:s,page_size:d,price_max:u,price_min:c,query_pin_sigs:h,query:p,redux_normalize_feed:!0,request_params:_,rs:f,scope:m,selected_one_bar_modules:g,seoDrawerEnabled:y,source_id:x,source_module_id:b,source_url:(0,r.Z)(w),top_pin_ids:v,user:P}}({appliedProductFilters:t,appliedUnifiedFilters:a,autoCorrectionDisabled:!!i,bubbleId:l,domains:o,filters:s,guidedSearchQuery:d,journeyDepth:u,pageSize:c,priceMax:p,priceMin:_,query:f,requestParams:m,rs:g,scope:h,selectedOneBarModules:y,selectedPinImgSig:x,seoDrawerEnabled:b,sourceId:w,sourceModuleId:v,sourceUrl:P,topPinIds:j,user:S})}}},734215:function(e,t,a){function r(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let a=Object.keys(e),r=Object.keys(t);return a.length===r.length&&a.every(a=>e[a]===t[a])}a.d(t,{Z:()=>r})},2761:function(e,t,a){function r(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}a.d(t,{Z:()=>r})},834299:function(e,t,a){a.d(t,{Z:()=>r});let r=e=>e.replace(/([^\s:\-])([^\s:\-]*)/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())},524757:function(e,t,a){a.r(t),a.d(t,{default:()=>P});var r=a(281098),n=a(667294),i=a(581722),l=a(20256),o=a(886981),s=a(675973),d=a(15667),u=a(712064),c=a(941404),p=a(647709),_=a(751961),f=a(845421),m=a(169053),g=a(339618),h=a(425140),y=a(92529),x=a(478516),b=a(807431),w=a(301856),v=a(785893);let P=({headerTitle:e,searchQuery:t,ideaId:a,topic:P})=>{let j;(0,n.useEffect)(()=>{(0,r.Z)("IdeaPageFeed","/app/www/LoggedOutProduct/duplo/Ideas/IdeaPageFeed.tsx")},[]);let S=(0,p.HG)(),{isAuthenticated:A}=(0,d.B)(),T=(0,s.Z)(),k=!1,I=!1,C=()=>{},E=!1,R=(0,i.v9)(({feeds:e})=>e[(0,x.r)(P)])||[],L=(0,m.JC)()??[],Z=(Array.isArray(R)?R:[]).map(e=>L[e.id]),N=(Array.isArray(Z)?Z:[]).reduce((e,t)=>(t.image_signature&&e.push(t.image_signature),e),[]),O=N.length>0,M=(O&&T.checkExperiment(A?"hfp_seo_klp_gulp_auth":"hfp_seo_klp_gulp_unauth",{dangerouslySkipActivation:!0}).group||"").startsWith("enabled");(0,c.tj)("idea_page_feed.secondary_feed_query",{hasSufficientQueryPins:O,klpSeoGulpEnabled:M,searchQuery:t,isAuthenticated:A});let{data:z,fetchMore:F,isAtEnd:B,isFetching:H,isLoaded:$}=(0,o.Z)((0,u.Ht)({pageSize:25,query:t,rs:"ipsf"})),{data:K,isFetching:D,isLoaded:U,fetchMore:W,isAtEnd:G}=((e,t,a)=>{let{data:r,isFetching:n,isLoaded:i,fetchMore:l,isAtEnd:s}=(0,o.Z)(a?{name:"ApiResource",options:{url:"/v3/story/feed/guided_universal_landing_page/",data:{request_params:JSON.stringify({98:"repin_image_cg_only",93:e,99:"klp",32:44,8:e,96:t})},field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type"]}}:null);return{data:r??[],isFetching:n,isLoaded:i,fetchMore:l,isAtEnd:s}})(t,N,M);M?(j=K,k=D,I=U,C=W,E=G):(j=z?z.results:{},k=H,I=$,C=F,E=B);let V=I&&j&&Array.isArray(j)&&j.length>5;return M=!!V&&T.checkExperiment(A?"hfp_seo_klp_gulp_auth":"hfp_seo_klp_gulp_unauth").anyEnabled,(0,c.tj)("idea_page_feed.secondary_feed_result",{hasSufficientSearchFeedData:V,klpSeoGulpEnabled:M,searchQuery:t,isAuthenticated:A}),(0,v.jsx)(n.Fragment,{children:V&&(0,v.jsxs)(l.xu,{"data-test-id":"idea-page-secondary-feed",children:[e&&(0,v.jsx)(l.xu,{paddingX:S?void 0:2,children:(0,v.jsx)(w.Z,{sectionHeader:e})}),(0,v.jsx)(b.Z,{children:(0,v.jsx)(h.Z,{customLayoutType:"ideaPage",feedItems:Array.isArray(j)?j:[],feedKey:`search:${(0,g.Z)({query:t,scope:"pins"})}`,pagination:{loadNext:C||(()=>void 0),hasNext:!E,isLoadingNext:k||!1,refetch:()=>void 0},renderFeedItem:(e,t)=>"pin"===e.type?(0,v.jsx)(_.Z,{children:(0,v.jsx)(f.Z,{componentType:0,duploQueryRef:null,pinId:e.id??"",slotIndex:t,trackingParams:e.tracking_params,trafficSource:"feed_interest",viewData:{view_object_id_str:a},viewParameter:3874,viewType:442})},e.id):(0,v.jsx)(y.Z,{slotIndex:t,storyId:e.id??"",viewParameter:3874,viewType:442}),serverRender:!1})})]})})}},860592:function(e,t,a){a.d(t,{I9:()=>u,cQ:()=>i,lc:()=>o,lh:()=>n,nQ:()=>s,p4:()=>l,wS:()=>r,xJ:()=>d});let r=1260,n=264,i=404,l=342,o=20,s=10,d=2,u=3},253861:function(e,t,a){a.d(t,{H:()=>r,J:()=>n});let{Provider:r,getMaybe:n}=(0,a(729434).Z)("PinCreateDeleteContext")},551651:function(e,t,a){a.d(t,{Z:()=>u});var r=a(281098),n=a(667294),i=a(346955),l=a(503246),o=a(706753),s=a(785893);class d extends n.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:a,viewType:r}=this.props;e({viewData:t,viewParameter:a,viewType:r})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:a,viewParameter:r,viewType:n}=this.props;r===e.viewParameter&&n===e.viewType&&(0,l.ZP)(a,e.viewData)||t({viewData:a,viewParameter:r,viewType:n})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:a,objectIdStr:r,viewData:n,viewParameter:i,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.Z,{auxData:e,clientTrackingParams:d,component:a,objectIdStr:r,viewData:n,viewParameter:i,viewType:l,children:t})}}function u(e){(0,n.useEffect)(()=>{(0,r.Z)("PageView","/app/www/analytics/PageView.tsx")},[]);let{setViewContextData:t,clearViewContextData:a}=(0,i.A$)();return(0,s.jsx)(d,{...e,clearCurrentPageData:a,setCurrentPageData:t})}},706753:function(e,t,a){a.d(t,{Z:()=>l});var r=a(667294),n=a(521009),i=a(941404);function l(e){let{auxData:t,clientTrackingParams:a,children:l,component:o,element:s,objectIdStr:d,viewData:u,viewParameter:c,viewType:p}=e,_=(0,n.Z)(),f=JSON.stringify(t),m=JSON.stringify(u);return(0,r.useEffect)(()=>{(({viewType:e,viewParameter:t,viewData:a,auxData:r,objectIdStr:n,component:l,clientTrackingParams:o,element:s},d)=>{let u,c=Object.keys(u={event_type:13,view_type:e,view_parameter:t,view_data:a,aux_data:r,object_id_str:n,component:l,clientTrackingParams:o,element:s}).reduce((e,t)=>(void 0===u[t]&&delete e[t],e),{...u});-1===Object.keys(c).indexOf("view_type")&&(0,i.My)("mweb.logging.null_view_type"),d(c)})(e,_)},[_,f,a,o,s,d,m,c,p]),r.Children.only(l)}},197668:function(e,t,a){a.d(t,{Z:()=>l});var r=a(675973),n=a(15667),i=a(647709);function l(e=!1){let{isAuthenticated:t}=(0,n.B)(),a=(0,i.HG)(),{checkExperiment:o}=(0,r.Z)();return!t&&o(a?"dweb_curated_articles_to_board_shift_unauth":"mweb_curated_articles_to_board_shift_unauth",{dangerouslySkipActivation:e}).anyEnabled}},380851:function(e,t,a){a.d(t,{oQ:()=>r});let r=(e,t)=>e?`https://i.pinimg.com/${t||"474x"}/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:""},225013:function(e,t,a){a.d(t,{Z:()=>n});var r=a(536652);function n(e,t){return a=>a((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},686231:function(e,t,a){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function n(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function l(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}a.d(t,{ND:()=>d,Vp:()=>o,a1:()=>r,b6:()=>s,jg:()=>i,o4:()=>n,ti:()=>l})},676244:function(e,t,a){a.d(t,{KF:()=>u,ZN:()=>o,fv:()=>d,kE:()=>p,yA:()=>s});var r=a(575108),n=a(686319),i=a(401450);function l(e,t,a,n){return r.Z.create("UserFollowResource",{user_id:e,invite_code:n||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:a})}function o(e,t=null,a,r){return n=>{l(e,t,a,r).callCreate().catch(()=>n((0,i.P_)(e,!1))),n((0,i.P_)(e,!0))}}function s(e,t=null,a,r){return async n=>{n((0,i.P_)(e,!0)),await l(e,t,a,r).callCreate().catch(t=>{throw n((0,i.P_)(e,!1)),t})}}function d(e,t=null,a){return r=>{l(e,t,a).callDelete().catch(()=>r((0,i.P_)(e,!0))),r((0,i.P_)(e,!1))}}function u(e,t=null,a){return async r=>{r((0,i.P_)(e,!1)),await l(e,t,a).callDelete().catch(t=>{throw r((0,i.P_)(e,!0)),t})}}let c=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,n.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(c(e,!1))),t(c(e,!0)))}},401450:function(e,t,a){a.d(t,{Ge:()=>u,JS:()=>l,P_:()=>o,Q_:()=>_,b8:()=>f,cg:()=>s,h2:()=>c,h6:()=>p});var r=a(575108),n=a(686319),i=a(843466);function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),d=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),u=({id:e,orbacSubjectId:t,blockSource:a,blockContext:n,logContextEvent:i})=>async l=>{l(d(e,!0));let o=await r.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:a,block_context:n}).callCreate().catch(()=>l(d(e,!1)));return i({event_type:54,object_id_str:e}),o},c=(e,t)=>async a=>{a(d(e,!1));let n=await r.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>a(d(e,!0)));return t({event_type:55,object_id_str:e}),n};function p(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let _=(e,t)=>()=>r.Z.create("UserStateResource",{state:e,value:t}).callCreate(),f=(e,t,a)=>(r,l)=>{(0,n.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{a({event_type:48,object_id_str:l().session.userId}),e(),(0,i.Z)()},t)}},339618:function(e,t,a){function r({appliedFilters:e,article:t,autoCorrectionDisabled:a,filters:r,journeyDepth:n,query:i,scope:l,selectedOneBarModules:o,sourceId:s,sourceModuleId:d,topPinIds:u}){let c=[l,i,r,e,t,s,d,n,u].map(e=>e??"").join(":");return a&&(c+=":auto-correction-disabled"),o&&(c+=`:${o}`),c}a.d(t,{Z:()=>r})},400741:function(e,t,a){a.d(t,{Z:()=>p});var r=a(281098),n=a(667294),i=a(20256),l=a(475498),o=a(19585),s=a(886981),d=a(647709),u=a(785893);function c({ideaPinImages:e}){(0,n.useEffect)(()=>{(0,r.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let t=e.map((e,t)=>(0,u.jsx)(i.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,u.jsx)(i.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,u.jsx)(i.kC,{justifyContent:"center",children:(0,u.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function p({handleHide:e,text:t,userId:a,href:p,imageUrl:_}){(0,n.useEffect)(()=>{(0,r.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let f=(0,o.ZP)(),m=(0,d.HG)(),g=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:a}}),h=Array.isArray(t)?t.join(" "):t;if(0===(g.data||[]).length)return(0,u.jsx)(l.Z,{duration:5e3,href:p,onHide:e,text:h,thumbnail:_?{image:(0,u.jsx)(i.Ee,{alt:f._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}:void 0});let y=(g.data||[]).slice(0,3).map(e=>e.images?.[m?"236x":"170x"]),x=(0,u.jsx)(c,{ideaPinImages:y});return(0,u.jsx)(l.Z,{_dangerouslySetThumbnail:x,duration:5e3,href:p,onHide:e,text:h})}},478516:function(e,t,a){a.d(t,{r:()=>j,Z:()=>S});var r,n=a(281098),i=a(667294),l=a(581722),o=a(20256),s=a(821342),d=a(19585),u=a(845556),c=a(453179),p=a(267828),_=a(15667),f=a(461920),m=a(886981),g=a(845329),h=a(647709),y=a(860592),x=a(845421),b=a(169053),w=a(425140);a(521009),a(906553),a(152677),a(695263),a(20310),a(572227),a(95615),a(149026),a(547585),a(422578),a(28427),a(609533),a(213892);var v=a(785893);function P({resource:e,bestPins:t,errorRedirect:a,topicId:r}){let{isBot:n,isAuthenticated:i}=(0,_.B)(),l=(0,d.ZP)(),s=n?y.nQ:y.lc,u=(0,h.HG)(),c=!e.isFetching&&!e.isAtEnd&&t&&t.length<s,p=(0,h.ml)();if(e.isFetching&&!t||c){if(c)try{e.fetchMore()}catch{}return(0,v.jsx)(o.kC,{alignItems:"center",direction:"column",height:652,justifyContent:"center",width:"100%",children:(0,v.jsx)(o.xH,{accessibilityLabel:l._('Loading Best Pins', 'mweb.lop.best_pins_feed', 'Label for Spinner while Best Pins Feed loads'),show:!0})})}return!t||0===t.length||a?null:(t=t.slice(0,s),(0,v.jsx)(o.xu,{marginEnd:u?-4:void 0,children:(0,v.jsx)(w.Z,{align:"center",customLayoutType:"ideaPage",feedItems:t,feedKey:`best-pins-${t.length}`,getColumnSpanConfig:()=>1,layout:"uniformRowFlexible",pagination:{hasNext:!1,isLoadingNext:!1,loadNext:()=>{},refetch:()=>{}},renderFeedItem:(e,t)=>(0,v.jsx)(x.Z,{duploFeedItemProps:{showSeoMetadata:!0},duploQueryRef:null,pinId:e.id,shouldShowSeoDrawerNewfields:!1,shouldShowSeoDrawerOption:!1,showVaseAnnotationsProp:!i&&(!p||n),slotIndex:t,viewData:{view_object_id_str:r},viewParameter:3876,viewType:442}),serverRender:!0})}))}void 0!==r||(r=a(159985)).hash&&"402fb795ee064cb0f97d1d8d4205a7db"!==r.hash&&console.error("The definition of 'IdeaMobileContextMenuButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");let j=e=>`idea-page-best-pins:${e.id}`;function S({topic:e}){(0,i.useEffect)(()=>{(0,n.Z)("BestIdeasFeed","/app/www/topic/BestIdeasFeed.tsx")},[]);let t=(0,s.Z)().isAuth,a=(0,m.Z)({name:"BestPinsFeedAltResource",options:(0,u.G)({interestId:e.id})}),r=(0,f.Z)(a),d=(0,l.v9)(({feeds:t})=>t[j(e)])||[],_=(0,b.JC)(),h=(e=>{let t=e.filter(e=>((e,t=!0)=>{let a=!!e.videos?.video_list,r=t&&!!(0,c.cL)({embedSrc:e.embed?.src,embedSubtype:e.embed?.subtype,embedType:e.embed?.type}),n=!!e.story_pin_data?.total_video_duration;return a||r||n})(e)),a=t.length,r=e.filter(e=>(0,p.r)(e.rich_metadata?.recipe?.name,!!e.rich_metadata?.recipe?.categorized_ingredients,e.rich_metadata?.recipe?.from_aggregated_data)),n=r.length;return a>=3||n>=3?a>=n?t:r:e})((Array.isArray(d)?d:[]).map(e=>_[e.id]));return(0,v.jsxs)(o.xu,{width:"100%",children:[(0,v.jsx)(P,{bestPins:d,errorRedirect:r,resource:a,topicId:e.id}),!t&&h&&h.length>0&&(0,v.jsx)(g.Z,{feedType:"bestIdeas",pinCount:h?.length||void 0,pinKeys:{type:"Legacy",data:h},testId:"ideas-leaf-page-item-list"})]})}},788023:function(e,t,a){a.d(t,{D:()=>f,Z:()=>m});var r,n=a(281098),i=a(667294);a(244311);var l=a(20256),o=a(28427),s=a(647709),d=a(222401),u=a(993689),c=a(439538),p=a(785893);let _=(void 0!==r||(r=a(413944)).hash&&"3a3b11ab8e6b0168ab15bd00526cd80c"!==r.hash&&console.error("The definition of 'BoardRepLayout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),f=({data:e,slotIndex:t,type:a="full",viewType:r,viewParameter:l,trackInteractionObjectProp:u})=>{(0,i.useEffect)(()=>{(0,n.Z)("BoardRepLayout","/app/www/unauth/unified/BoardRepLayout.tsx")},[]);let c=(0,o.Z)(_,e),f=(0,s.ml)();return(0,p.jsx)(d.default,{boardKey:c,display:"responsive",isAttributionHeightUnfixed:!0,isUsingMask:!0,metaMarginBottom:f?4:2,noPaddings:!0,showFollowButton:!1,slotIndex:t,trackInteractionObjectProp:u,type:a,viewParameter:l,viewType:r})},m=function({testId:e,masonryId:t,cacheKey:a,serverRender:r,initialRowCount:n=1,expandButtonProps:o,data:d,renderItem:_}){let f=(0,s.ml)(),[m,g]=(0,i.useState)(!1),h=n*(f?2:5),y=!!o&&d.length>h&&!m;return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(l.xu,{marginBottom:f?-4:-2,children:(0,p.jsx)(c.Z,{cacheKey:a,id:t,items:d.slice(0,m?d.length:h),renderItem:(e,t)=>_(e,t),serverRender:r,testId:e})}),y&&(0,p.jsx)(u.Z,{handleClick:e=>{o?.handleClick?.(e),g(!0)},testId:o.testId})]})}},512395:function(e,t,a){function r(){return{}}a.d(t,{kr:()=>r}),a.g.__AsyncLocalStorage__&&new a.g.__AsyncLocalStorage__},653616:function(e,t,a){a.d(t,{Z:()=>eA});var r,n,i=a(667294),l=a(281098),o=a(581722),s=a(616550),d=a(825332),u=a(20256),c=a(918920),p=a(140725),_=a(722194),f=a(19585),m=a(845556),g=a(255957),h=a(15667),y=a(886981),x=a(941404),b=a(821342),w=a(93966),v=a(785893);let P=({text:e,isLightTextColor:t,marginsEnabled:a})=>((0,i.useEffect)(()=>{(0,l.Z)("FormattedDescription","/app/packages/HubPage/FormattedDescription.tsx")},[]),(0,v.jsx)(u.xu,{children:e.split(`
`).map(e=>(0,v.jsx)(u.xu,{marginBottom:a?3:void 0,marginTop:a?3:void 0,children:((e,t)=>{if(!e.match(/\[([^\]]*)\]\(([^\)]*)\)/g))return(0,v.jsx)(u.xv,{align:"center",color:t?"light":"default",children:e});{let a=e.split(/(\[.*?\))/),r=RegExp("\\[([^\\]]*)\\]\\(([^\\)]*)\\)","gm");return(0,v.jsx)(u.xv,{align:"center",color:t?"light":"default",children:a.map(e=>{let a=r.exec(e);return a?(0,v.jsx)(u.xv,{color:t?"light":"default",inline:!0,weight:"bold",children:(0,v.jsx)(u.rU,{display:"inlineBlock",href:a[2],underline:"hover",children:a[1]})}):(0,v.jsx)(u.xv,{color:t?"light":"default",inline:!0,children:e})})})}})(e,t)},e))}));var j=a(369416),S=a(302148),A=a(914061),T=a(2761),k=a(123998),I=a(647709),C=a(551651),E=a(348268),R=a(197668),L=a(380851),Z=a(98328);(0,i.memo)(({selectedIndex:e,count:t})=>((0,i.useEffect)(()=>{(0,l.Z)("ScrollIndicator","/app/www/LoggedOutProduct/duplo/Ideas/ScrollIndicator.tsx")},[]),(0,v.jsx)(u.xu,{display:"flex",justifyContent:"center",marginTop:5,children:[...Array(t).keys()].map(t=>(0,v.jsx)(u.xu,{color:e===t?"dark":"secondary",dangerouslySetInlineStyle:{__style:{marginLeft:2,marginRight:2}},height:8,rounding:"circle",width:8},t))})));var N=a(497585),O=a(860592),M=a(524757),z=a(167912),F=a(572227),B=a(420841);let H=({modulePadding:e,isHubRedesign:t})=>(t?B.BH:B.L_)+4*e*2;var $=a(889355),K=a(301856);let D=[0,1],U=[0,1,2,3],W=(void 0!==r||(r=a(527272)).hash&&"c574310e23883590b7208a1cf496378a"!==r.hash&&console.error("The definition of 'IdeasHubArticleRowGraphQLModuleQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),G=({interestName:e,interestId:t,title:a,isHubRedesign:r})=>{let n;(0,i.useEffect)(()=>{(0,l.Z)("IdeasHubArticleRowGraphQLModule","/app/www/LoggedOutProduct/duplo/Ideas/IdeasHubArticleRowGraphQLModule.tsx")},[]);let o=(0,f.ZP)(),{isBot:s}=(0,h.B)(),d=(0,I.HG)(),c=(0,I.Wb)(),[p,_]=(0,i.useState)(s),m=(0,F.Z)(),g=(0,I.ml)(),y=(0,z.useLazyLoadQuery)(W,{interestId:t,numArticles:8,scoreThreshold:.7,displayTypes:D,feedSourceTypes:U},{fetchPolicy:"store-or-network"}).v3GetHubPageTodayArticlesQuery;(null==y||"V3GetHubPageTodayArticles"!==y.__typename||null==y.data)&&(y=null);let x=y?.data,b=x?.length||0;if(!x||0===b)return null;d?n=H({modulePadding:2,isHubRedesign:r}):c&&(n=360);let w=d?3:2,[P,j]=b>w?[x?.slice(0,w),x?.slice(w).slice(0,w)]:[x,[]],A=d?O.I9:O.xJ,T=!p&&b>A;return(0,v.jsxs)(u.xu,{"data-test-id":"ideas-hub-today-row",marginEnd:g?void 0:-4,children:[(0,v.jsx)(u.xu,{paddingX:d?void 0:2,children:(0,v.jsx)(K.Z,{sectionHeader:a||(e?(0,S.nk)(o._('Featured articles about {{ interestName }}', 'hubpage.todayarticlerowtitle', 'Ideas page subtitle for today articles'),{interestName:e}):o._('Related articles', 'hubpage.todayarticlerowtitle', 'Ideas page subtitle for today articles'))})}),(0,v.jsxs)("div",{className:"article-row",children:[(0,v.jsx)(u.xu,{"data-test-id":"hubArticleContainer",display:"flex",marginStart:d?-2:void 0,children:(0,v.jsx)(u.xu,{alignItems:"stretch",display:"flex",justifyContent:"start",marginBottom:T?void 0:-2,overflow:"hidden",width:"100%",wrap:!0,children:(0,v.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",maxWidth:n?n*w:void 0,width:"100%",wrap:!0,children:[P&&P.filter(Boolean).map((e,t)=>(0,v.jsx)(u.xu,{"data-test-id":"hubArticle",maxWidth:n,padding:2,width:"100%",children:(0,v.jsx)($.i,{containerKey:e,gridIndex:t,headerAccessibilityLevel:3,isHubRedesign:!0,subtitleSize:"200",titleSize:"400",viewParameter:3894,viewType:442})},e?.entityId)),p&&j&&j.filter(Boolean).map((e,t)=>e&&(0,v.jsx)(u.xu,{"data-test-id":"hubArticle",maxWidth:n,padding:2,width:"100%",children:(0,v.jsx)($.i,{containerKey:e,gridIndex:t,headerAccessibilityLevel:3,isHubRedesign:!0,subtitleSize:"200",titleSize:"400",viewParameter:3894,viewType:442})},e?.entityId))]})})}),T&&(0,v.jsx)(u.xu,{display:"flex",justifyContent:"center",marginTop:2,width:"100%",children:(0,v.jsx)(u.xu,{children:(0,v.jsx)(u.zx,{onClick:()=>void(_(!0),m({action:"click",item:"see-more-articles"})),size:"lg",text:o._('See more', 'Hubpage.todayArticles.SeeMoreArticles', 'Button text for more articles')})})})]})]})};var V=a(111875);let Q=[0,1],q=[0,1,2,3],J=(void 0!==n||(n=a(141317)).hash&&"b62f3212b6bff4c74e2af1ba78da10fb"!==n.hash&&console.error("The definition of 'IdeasHubFeaturedBoardRowModuleQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),Y=({interestName:e,interestId:t,title:a,isHubRedesign:r})=>{let n;(0,i.useEffect)(()=>{(0,l.Z)("IdeasHubFeaturedBoardRowModule","/app/www/LoggedOutProduct/duplo/Ideas/IdeasHubFeaturedBoardRowModule.tsx")},[]);let o=(0,f.ZP)(),{isBot:s}=(0,h.B)(),d=(0,I.HG)(),c=(0,I.Wb)(),[p,_]=(0,i.useState)(s),m=(0,F.Z)(),g=(0,I.ml)(),y=(0,z.useLazyLoadQuery)(J,{interestId:t,numBoards:6,scoreThreshold:.7,displayTypes:Q,feedSourceTypes:q},{fetchPolicy:"store-or-network"}).v3GetHubPageFeaturedBoardsQuery;(null==y||"V3GetHubPageFeaturedBoards"!==y.__typename||null==y.data)&&(y=null);let x=y?.data,b=x?.length||0;if(!x||0===b)return null;d?n=H({modulePadding:2,isHubRedesign:r}):c&&(n=360);let w=d?3:2,[P,j]=b>w?[x?.slice(0,w),x?.slice(w,2*w)]:[x,[]];return(0,v.jsxs)(u.xu,{"data-test-id":"ideas-hub-today-row",marginEnd:g?void 0:-4,children:[(0,v.jsx)(u.xu,{paddingX:d?void 0:2,children:(0,v.jsx)(K.Z,{sectionHeader:a||(e?(0,S.nk)(o._('Featured boards about {{ interestName }}', 'HubPage.featuredBoardAboutInterestRowTitle', 'Ideas page subtitle for featured boards for an interest, interestName: Name of the current interest'),{interestName:e}):o._('Related boards', 'HubPage.relatedFeaturedBoardRowTitle', 'Ideas page subtitle for related featured boards'))})}),(0,v.jsxs)("div",{className:"board-row",children:[(0,v.jsx)(u.xu,{"data-test-id":"hubBoardContainer",marginBottom:2,marginStart:d?void 0:2,marginTop:6,overflow:"hidden",width:"100%",children:(0,v.jsxs)(u.kC,{alignItems:"stretch",direction:d?"row":"column",gap:4,justifyContent:"start",maxWidth:n?n*w:void 0,width:"100%",wrap:d,children:[P&&P.filter(Boolean).map((e,t)=>(0,v.jsx)(u.xu,{"data-test-id":"hubBoard",maxWidth:n,width:"100%",children:(0,v.jsx)(V.Z,{containerKey:e,gridIndex:t,headerAccessibilityLevel:3,isHubRedesign:!0,subtitleSize:"200",titleSize:"400",viewParameter:3894,viewType:442})},e.entityId)),p&&j&&j.filter(Boolean).map((e,t)=>e&&(0,v.jsx)(u.xu,{"data-test-id":"hubBoard",maxWidth:n,width:"100%",children:(0,v.jsx)(V.Z,{containerKey:e,gridIndex:t,headerAccessibilityLevel:3,isHubRedesign:!0,subtitleSize:"200",titleSize:"400",viewParameter:3894,viewType:442})},e.entityId))]})}),!p&&b>w&&(0,v.jsx)(u.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,v.jsx)(u.xu,{children:(0,v.jsx)(u.zx,{onClick:()=>void(_(!0),m({action:"click",item:"see-more-boards"})),size:"lg",text:o._('See more', 'HubPage.featuredBoards.SeeMoreBoards', 'Button text for more boards')})})})]})]})};var X=a(973530);let ee="ideahubPage",et=4*w.jC,ea=({children:e})=>(0,I.HG)()?(0,v.jsx)(u.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:(0,v.jsx)(u.xu,{maxWidth:5*(w.yF+et),width:"100%",children:e})}):(0,v.jsx)(i.Fragment,{children:e}),er=({idea:e})=>{let t;(0,i.useEffect)(()=>{(0,l.Z)("IdeaHubPage","/app/www/LoggedOutProduct/duplo/Ideas/IdeaHubPage.tsx")},[]);let a=(0,f.ZP)(),{isBot:r}=(0,h.B)(),n=(0,I.HG)(),o=(0,I.ml)(),s=(0,b.Z)(),d=(0,I.ZP)(),c=(0,R.Z)(!0),{curated_description:p,curated_on_page_title:_,id:m,idea_klp_data_related_shopping_topics_via_context:g,seo_canonical_display_name:y,seo_related_interests:x,seo_breadcrumbs:w,url_name:O}=e,z=(0,T.Z)(y),{isAuth:F}=s,B=(0,N.UR)(m,n?"dWeb":"mWeb")||(0,L.oQ)(e.cover_image_signature,"1200x"),H=(0,N.UR)(m,n?"dWeb2x":"mWeb2x"),$=(0,N.E2)(m)||p,K=(0,N.lT)(m)||_,D=K?(0,S.nk)(a._('{{hubName}}', 'web.idea_hub.title', 'Name of the featured interest, hubName: Name of the interest'),{hubName:K}):(0,S.nk)(a._('{{hubName}}', 'web.idea_hub.title', 'Name of the featured interest, hubName: Name of the interest'),{hubName:z}),U=(0,S.nk)(a._('Explore {{ interestName }} articles', 'hubpage.todayarticlerowtitle', 'Hub page subtitle for today articles, interestName: Name of the current interest'),{interestName:z}),W=(0,S.nk)(a._('Explore {{ interestName }} boards', 'HubPage.featuredBoardRowTitle', 'Hub page subtitle for featured boards, interestName: Name of the current interest'),{interestName:z}),V=(0,E.s)({trafficSource:"board",deviceType:d})||0,Q=(0,E.SY)({deviceType:d});return n&&(t=(0,E.mb)({gutterWidth:V,itemWidth:Q,className:ee})),(0,v.jsx)(u.xu,{marginEnd:n?"auto":void 0,marginStart:n?"auto":void 0,maxWidth:n?1260:void 0,width:n?"100%":void 0,children:(0,v.jsx)(C.Z,{objectIdStr:m,viewParameter:3475,viewType:442,children:(0,v.jsx)(k.Z,{objectId:m,view:442,viewParameter:3475,children:(0,v.jsxs)(A.default,{children:[!!t&&(0,v.jsx)(j.Z,{unsafeCSS:t}),(0,v.jsx)("div",{className:ee,style:{margin:"auto"},children:(0,v.jsxs)(u.kC,{direction:"column",children:[(0,v.jsxs)(u.xu,{alignItems:"stretch",display:"flex",justifyContent:"center",marginBottom:2*!!o,marginTop:8*!o,position:"relative",children:[(0,v.jsx)(u.zd,{height:245,rounding:4,width:1244,children:(0,v.jsx)(u.Ee,{alt:z,fit:"cover",naturalHeight:245,naturalWidth:1244,src:B,srcSet:H&&`${B} 1x, ${H} 2x`})}),(0,v.jsxs)(u.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.30)"}},direction:"column",display:"flex",height:245,justifyContent:"center",left:!0,margin:"auto",maxWidth:1244,padding:4,position:"absolute",right:!0,rounding:4,top:!0,children:[(0,v.jsx)(Z.Z,{breadcrumbs:w||[],disableOverflowGradient:!0,isHubPage:!0}),(0,v.jsxs)(u.kC,{alignItems:"center",direction:"column",children:[(0,v.jsx)(u.xu,{"data-test-id":"ideas-hub-page-header",marginBottom:2,children:(0,v.jsx)(u.X6,{accessibilityLevel:1,align:"center",color:"light",size:n?"700":"600",children:D})}),!!$&&(0,v.jsx)(u.xu,{alignItems:"center","data-test-id":"ideas-hub-page-description",direction:"column",display:"flex",maxWidth:n?650:400,children:(0,v.jsx)(P,{isLightTextColor:!0,text:$})})]})]})]}),F||c?(0,v.jsx)(Y,{interestId:m,interestName:z,isHubRedesign:!0,title:W.join(" ")}):(0,v.jsx)(G,{interestId:m,interestName:z,interestUrlName:O,isHubRedesign:!0,title:U.join(" ")}),x&&(0,v.jsx)(u.xu,{as:"section",children:(0,v.jsx)(X.Z,{data:x,headerText:a._('Related interests', 'idea_page.related_interests', 'Related interests header text'),isShortModule:!0,testId:"ideaRep",updatedMobileReps:!0,usePillColors:!0,variant:"related-ideas",viewParameter:3897,viewType:442})}),null,!r&&(0,v.jsx)(ea,{children:(0,v.jsx)(M.default,{headerTitle:a._('Ideas like this', 'idea_page.secondary_feed', 'Title for a section with related pins'),ideaId:m,searchQuery:z,topic:e})})]})})]})})})})};var en=a(670622),ei=a(906553),el=a(675973),eo=a(821806),es=a(834299),ed=a(324307);function eu({description:e,maxWidth:t}){(0,i.useEffect)(()=>{(0,l.Z)("IdeaLeafPageDescription","/app/www/LoggedOutProduct/duplo/Ideas/IdeaLeafPageDescription.tsx")},[]);let a=(0,f.ZP)(),r=(0,I.ml)(),[n,o]=(0,i.useState)(!1),s=r?85:195,d=(0,ed.ZP)(e,s,""),c=(e?.length||0)>s,p=a._('... less', 'klpPage.subheader.description.truncateDescription', 'Text for cta to show less text for the board description'),_=a._('... more', 'klpPage.subheader.description.expandDescription', 'Text for cta to show full text for the board description');return(0,v.jsx)(u.kC,{alignItems:"stretch",justifyContent:"start",maxWidth:t,children:(0,v.jsxs)(u.xv,{inline:!0,size:"300",children:[(0,v.jsx)(u.xv,{inline:!0,children:n?e:d}),c&&(0,v.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(u.xu,{"data-test-id":"more-klp-description",display:"inlineBlock",children:(0,v.jsx)(u.iP,{onTap:()=>{o(!n)},children:(0,v.jsx)(u.xv,{inline:!0,weight:"bold",children:n?p:_})})})})]})})}var ec=a(252818);let ep=({articles:e,interestName:t,title:a,isHubRedesign:r})=>{(0,i.useEffect)(()=>{(0,l.Z)("IdeasHubArticleRowResourceModule","/app/www/LoggedOutProduct/duplo/Ideas/IdeasHubArticleRowResourceModule.tsx")},[]);let n=(0,f.ZP)(),{isBot:o}=(0,h.B)(),s=(0,I.HG)(),[d,c]=(0,i.useState)(o),p=(0,F.Z)();if(!e||0===e.length)return null;let _=s?H({modulePadding:2,isHubRedesign:r}):360,m=s?3:2,[g,y]=e.length>m?[e.slice(0,m),e.slice(m).slice(0,m)]:[e,[]],x=!d&&e.length>3;return(0,v.jsxs)(u.xu,{"data-test-id":"ideas-hub-today-row",children:[(0,v.jsx)(K.Z,{sectionHeader:a||(t?(0,S.nk)(n._('Featured articles about {{ interestName }}', 'hubpage.todayarticlerowtitle', 'Ideas page subtitle for today articles'),{interestName:t}):n._('Related articles', 'hubpage.todayarticlerowtitle', 'Ideas page subtitle for today articles'))}),(0,v.jsxs)("div",{className:"article-row",children:[(0,v.jsx)(u.xu,{"data-test-id":"hubArticleContainer",display:"flex",marginEnd:-2,marginStart:-2,children:(0,v.jsx)(u.xu,{alignItems:"stretch",display:"flex",justifyContent:"start",marginBottom:x?void 0:-2,overflow:"hidden",width:"100%",wrap:!0,children:(0,v.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",maxWidth:_*m,width:"100%",wrap:!0,children:[g.map((e,t)=>(0,v.jsx)(u.xu,{"data-test-id":"hubArticle",maxWidth:_,padding:2,width:"100%",children:(0,v.jsx)(ec.Z,{article:e,gridIndex:t,headerAccessibilityLevel:3,id:e.id,isHubRedesign:!0,subtitleSize:"200",titleSize:"400",viewParameter:3894,viewType:442})},e.id)),d&&y.map((e,t)=>(0,v.jsx)(u.xu,{"data-test-id":"hubArticle",maxWidth:_,padding:2,width:"100%",children:(0,v.jsx)(ec.Z,{article:e,gridIndex:t,headerAccessibilityLevel:3,id:e.id,isHubRedesign:!0,subtitleSize:"200",titleSize:"400",viewParameter:3894,viewType:442})},e.id))]})})}),x&&(0,v.jsx)(u.xu,{display:"flex",justifyContent:"center",marginTop:2,width:"100%",children:(0,v.jsx)(u.xu,{children:(0,v.jsx)(u.zx,{onClick:()=>void(c(!0),p({action:"click",item:"see-more-articles"})),size:"lg",text:n._('See more', 'Hubpage.todayArticles.SeeMoreArticles', 'Button text for more articles')})})})]})]})};var e_=a(841982);function ef({direction:e,handleClick:t,isRTL:a}){let r=(0,f.ZP)(),n=(0,F.Z)(),i=a?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"],l=()=>{n({action:"click",item:"klp-pivots-arrow"}),t()};return(0,v.jsx)("div",{"aria-label":"arrow",onClick:l,onKeyDown:l,role:"button",style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:40,lineHeight:24,outline:"none",position:"absolute",width:100,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},tabIndex:-1,children:(0,v.jsx)(u.xu,{borderStyle:"none",left:"left"===e,marginBottom:1,position:"absolute",right:"right"===e,children:(0,v.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{filter:"drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.10))"}},"data-test-id":"klp-pivots-arrow",children:(0,v.jsx)(u.hU,{accessibilityLabel:r._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),bgColor:"white",icon:"left"!==e?i[0]:i[1],iconColor:"dark",size:"sm"})})})})}function em({pivots:e}){(0,i.useEffect)(()=>{(0,l.Z)("IdeasPivots","/app/www/LoggedOutProduct/duplo/Ideas/IdeasPivots.tsx")},[]);let t=(0,f.ZP)(),a=(0,I.HG)(),r=(0,F.Z)(),[n,o]=(0,i.useState)([]),[s,d]=(0,i.useState)(!1),[c,p]=(0,i.useState)(!1),_=(0,i.useRef)(null),{isRTL:m}=(0,h.B)();(0,i.useEffect)(()=>{let e=_.current,t=()=>{if(_.current&&a){let e=_.current,t=Math.abs(e.scrollLeft||0),a=Math.abs(e.scrollWidth||0),r=t>4,n=t+e.clientWidth<a-4,i=m?r:n,l=m?n:r;d(i),p(l)}else d(!1),p(!1)};return t(),e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[m,a]);let g=e=>()=>{let t=_.current;if(!t)return;let a=("left"===e?-1:1)*t.clientWidth*.5;t.scrollBy(a,0)};if(!e||0===e.length)return null;let y=e.map(({pivot_display_text:a,pivot_full_name:i,pivot_url:l},s)=>l&&(0,v.jsx)(u.xu,{"data-test-id":"klp-pivot-rep",marginEnd:2,children:(0,v.jsx)(u.xu,{rounding:"pill",children:(0,v.jsx)(u.Tg,{href:l,onTap:()=>{r({action:"click",item:"klp-pivot-rep"})},title:i,children:(0,v.jsx)(u.xu,{alignItems:"center",color:"secondary",dangerouslySetInlineStyle:n[s]?{__style:{backgroundColor:"#D6D4CD"}}:void 0,display:"flex",height:40,onMouseEnter:()=>o(Array.from({length:e.length},(e,t)=>t===s)),onMouseLeave:()=>o(Array.from({length:e.length},()=>!1)),rounding:4,children:(0,v.jsxs)(u.xu,{alignItems:"center",display:"flex",margin:3,children:[(0,v.jsx)(u.xu,{marginEnd:2,children:(0,v.jsx)(u.JO,{accessibilityLabel:t._('KLP Pivot link', 'IdeaPages.Pivots.plusIcon.accessibilityLabel', 'Accessibility label for the plus icon for a KLP pivot'),color:"dark",icon:"add",size:"12"})}),(0,v.jsx)(u.xv,{align:"center",inline:!0,overflow:"noWrap",size:"300",children:a})]})})})},"klpPivotLink")},l));return(0,v.jsx)(e_.Z,{children:(0,v.jsx)(u.xu,{direction:"column",display:"flex",justifyContent:"center",marginBottom:a?3:1,children:(0,v.jsx)(u.kC,{alignItems:"center",justifyContent:"end",children:(0,v.jsxs)(u.xu,{display:"flex",marginTop:4*!!a,overflow:a?"hidden":"scrollX",position:"relative",width:"100%",children:[c&&(0,v.jsx)(ef,{direction:"left",handleClick:g("left"),isRTL:m,testId:"left-scroll-arrow"}),(0,v.jsx)(u.xu,{ref:_,alignItems:"center","data-test-id":"klp-pivots",display:"flex",justifyContent:"start",maxWidth:a?O.wS:void 0,overflow:a?"hidden":"scrollX",paddingX:a?void 0:2,children:y}),s&&(0,v.jsx)(ef,{direction:"right",handleClick:g("right"),isRTL:m,testId:"right-scroll-arrow"})]})})})})}var eg=a(478516),eh=a(788023);let ey=(0,i.lazy)(()=>Promise.resolve().then(a.bind(a,524757))),ex="klpPageFeed",eb=["en-US","en-GB","en-CA","en-AU"],ew=({todayArticles:e,interest:t,holidayName:a})=>{let r=(0,f.ZP)(),n=e??[];if(!n||!n.length)return null;let i=(0,S.nk)(r._('Explore {{holidayName}} articles', 'hubpage.todayarticlerowtitle', 'Hub page subtitle for today articles, holidayName: Name of the holiday'),{holidayName:a}).join("");return(0,v.jsx)(ep,{articles:n,interestId:t.id,interestName:t.name,interestUrlName:t.url_name,isHubRedesign:!0,title:i})},ev=({idea:e})=>{let t;(0,i.useEffect)(()=>{(0,l.Z)("IdeaLeafPage","/app/www/LoggedOutProduct/duplo/Ideas/IdeaLeafPage.tsx")},[]);let{id:a,seo_canonical_display_name:r,idea_klp_title:n,idea_klp_description:o,internal_search_count:s,seo_breadcrumbs:d,seo_related_interests:c,related_boards:_,update_time:m,idea_klp_holiday_today_articles:g,idea_klp_holiday:y,ideas_klp_pivots:x}=e,b=(0,T.Z)(r),w=(0,f.ZP)(),P=(0,I.HG)(),C=(0,I.Wb)(),R=(0,I.ml)(),L=(0,I.ZP)(),{isBot:N,locale:M}=(0,h.B)(),{checkExperiment:z}=(0,el.Z)(),F=Array.isArray(d)?d:[],B=!!n&&!!o&&!!z("seo_genai_holdout").anyEnabled,H=x&&x.length>3,$=!!n&&!!o,D=(0,ei.Z)(),U=(0,en.Z)(),W=m&&new Date(1e3*m),G=R?343:750,V=R?void 0:O.wS,Q=$?o:(0,S.nk)(w._('Discover Pinterest\u2019s best ideas and inspiration for {{heading}}. Get inspired and try out new things.', 'web.idea_klp_page.subheading.description', 'Description of the current Idea klp page, heading: Current Idea klp page subheading'),{heading:b}).join(""),q=(0,E.s)({trafficSource:"board",deviceType:L})||0,J=(0,E.SY)({deviceType:L});P&&(t=(0,E.mb)({maxColumns:5,gutterWidth:q,itemWidth:J,className:ex}));let Y=R?2:void 0,ee=!!(m&&W),et=!!s&&s>1,ea=y&&(0,es.Z)(y),er=eb.includes(M)||M.startsWith("fr")||M.startsWith("de");return(0,v.jsx)(u.xu,{marginEnd:"auto",marginStart:"auto",overflow:"scrollY",width:"100%",children:(0,v.jsx)(p.Z,{log:{view_type:442,object_id_str:a},children:(0,v.jsx)(k.Z,{objectId:a,view:442,children:(0,v.jsxs)(A.default,{children:[!!t&&(0,v.jsx)(j.Z,{unsafeCSS:t}),(0,v.jsxs)("div",{className:ex,style:{margin:"auto"},children:[(0,v.jsx)(Z.Z,{breadcrumbs:F,disableOverflowGradient:!0,shouldLeftAlign:!0}),(0,v.jsxs)(u.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:[(0,v.jsx)(u.xu,{alignItems:"start","data-test-id":"topicHeader",display:"flex",justifyContent:"start",marginBottom:2,marginStart:Y,marginTop:F?void 0:5,maxWidth:G,children:(0,v.jsx)(u.X6,{accessibilityLevel:1,align:"start",size:R?"600":void 0,children:B?n:b})}),(0,v.jsx)(u.xu,{alignItems:"start","data-test-id":"idea-page-description",display:"flex",justifyContent:"start",marginBottom:R?3:4,marginStart:Y,maxWidth:G,children:N?(0,v.jsx)(u.xv,{align:"start",size:"300",children:Q}):(0,v.jsx)(eu,{description:Q,maxWidth:G})}),(0,v.jsx)(u.xu,{display:"flex",marginBottom:P&&H?2:4,marginStart:2*!P,wrap:!0,children:(0,v.jsxs)(u.kC,{children:[et&&(0,v.jsx)(u.xu,{marginEnd:1,children:(0,v.jsx)(u.xv,{color:"subtle",dataTestId:"idea-search-count",size:"200",children:(0,S.nk)(w._('{{ searchCount }} people searched this', 'ideaPage.internalSearchCount', 'How many times this idea term has been searched. searchCount: Number of searches'),{searchCount:D(M,s,{shortform:!0,shortform_maximum_fraction_digits:0})})})}),et&&ee&&(0,v.jsx)(u.xv,{color:"subtle",size:"200",children:"·"}),ee&&(0,v.jsx)(u.xu,{paddingX:+!!et,children:(0,v.jsx)(u.xv,{color:"subtle",dataTestId:"idea-last-updated-time",size:"200",children:(0,S.nk)(w._('Last updated {{ relativeTime }}', 'ideaPage.lastUpdatedRelativeTime', 'How long ago the idea was last updated. relativeTime: Time since last update'),{relativeTime:U(W,!0)})})})]})})]}),H&&(0,v.jsx)(em,{pivots:x}),(0,v.jsx)(u.xu,{as:"section","data-test-id":"idea-page-top-ten-pins",display:"flex",marginStart:C?-1:void 0,marginTop:R?4:void 0,maxWidth:V,children:(0,v.jsx)(eg.Z,{topic:e})}),y&&g&&er&&(0,v.jsx)(u.xu,{paddingX:P?void 0:2,children:(0,v.jsx)(ew,{holidayName:ea,interest:e,todayArticles:g})}),c&&c.length>0&&(0,v.jsx)(u.xu,{as:"section",direction:"column",display:"flex",justifyContent:"start",children:(0,v.jsx)(X.Z,{data:c,headerText:w._('Related interests', 'idea_page.related_interests', 'Related interests header text'),isShortModule:!0,limit:R?4:void 0,testId:"ideaRep",updatedMobileReps:!0,usePillColors:!0,variant:"related-ideas",viewParameter:3897,viewType:442})}),_&&_.length>=4&&(0,v.jsxs)(u.xu,{maxWidth:V,children:[(0,v.jsx)(u.xu,{paddingX:P?void 0:2,children:(0,v.jsx)(K.Z,{pretext:(0,S.nk)(w._('{{ interestName }} and more', 'idea_page.related_boards.subheading', 'Related boards section subheading, interestName: Name of the current interest in the subheading'),{interestName:b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()}),sectionHeader:w._('Explore related boards', 'idea_page.related_boards.heading', 'Related boards section heading')})}),(0,v.jsx)(u.xu,{as:"section","data-test-id":"feed",maxWidth:V,children:(0,v.jsx)(eh.Z,{cacheKey:`profile-boards:${a}`,data:_,initialRowCount:2,masonryId:"klpRelatedBoardsFeed",renderItem:(e,t)=>(0,v.jsx)(eh.D,{data:{type:"Legacy",data:e},slotIndex:t,viewParameter:3070,viewType:442}),serverRender:!0})})]}),!N&&(0,v.jsx)(u.xu,{as:"section",marginEnd:"auto",maxWidth:V,children:(0,v.jsx)(eo.Z,{children:(0,v.jsx)(ey,{headerTitle:w._('Ideas like this', 'idea_page.secondary_feed', 'Title for a section with related pins'),ideaId:a,searchQuery:b,topic:e})})})]})]})})})})};var eP=a(195252);function ej({i18n:e}){return(0,v.jsx)(u.xu,{margin:5,children:(0,v.jsx)(u.xH,{accessibilityLabel:e._('Loading topics page', 'Loading state for the topics page', 'Loading state for the topics page'),show:!0})})}function eS({interest:e}){let t=(0,s.$B)(),{isAuthenticated:a}=(0,h.B)();if((0,i.useEffect)(()=>{a||(0,x.NC)("view_topic_page")},[a]),e.url_name&&e.id){let{urlName:a}=(0,eP.Z)(e.url_name),r=`/ideas/${a}/${e.id}/`;if(t.url!==r)return(0,v.jsx)(d.Fg,{replace:!0,to:r})}return e.is_ideas_hub?(0,v.jsx)(er,{idea:e}):(0,v.jsx)(ev,{idea:e})}let eA=function(){(0,i.useEffect)(()=>{(0,l.Z)("IdeaPage","/app/www/pages/duplo/IdeaPage.tsx")},[]);let e=(0,f.ZP)(),t=(0,s.UO)(),a=(0,d.TH)(),r=t.id||(0,c.Gt)(t.interest||""),n=(0,y.Z)({name:"InterestResource",options:(0,m.m)({interestId:r,isInternalPreview:a.search.includes("preview")})}),u=(0,o.v9)(({topics:e})=>Object.keys(e).reduce((t,a)=>{let r=e[a];return t[r.slug]=r,t[a]=r,t},{})[r]);return((0,p.Q)({view_type:442,view_data:{interest:t.interest},object_id_str:t.id}),n.error?.httpStatus===404)?(0,v.jsx)(d.Fg,{replace:!0,state:{showError:!0},to:"/ideas/"}):(0,v.jsx)(g.Z,{constraints:["idea_module_loaded"],surface:"topic",children:(0,v.jsx)(_.Z,{name:"SafeSuspense_IdeasPage",children:!!u&&(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(ej,{i18n:e}),children:u.seo_canonical_display_name?(0,v.jsx)(eS,{interest:u}):(0,v.jsx)(ej,{i18n:e})})})})}},444785:function(e,t,a){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/ideas/[interest]/[id]",function(){return a(653616).Z}])},203558:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r},e.exports.__esModule=!0,e.exports.default=e.exports},421853:function(e,t,a){var r=a(203558);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},508997:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},82007:function(e){function t(e,t,a,r,n,i,l){try{var o=e[i](l),s=o.value}catch(e){return void a(e)}o.done?t(s):Promise.resolve(s).then(r,n)}e.exports=function(e){return function(){var a=this,r=arguments;return new Promise(function(n,i){var l=e.apply(a,r);function o(e){t(l,n,i,o,s,"next",e)}function s(e){t(l,n,i,o,s,"throw",e)}o(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},330503:function(e,t,a){var r=a(676386);e.exports=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=r(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,o=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw l}}}},e.exports.__esModule=!0,e.exports.default=e.exports},964512:function(e,t,a){var r=a(299892);e.exports=function(e,t,a){return(t=r(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},e.exports.__esModule=!0,e.exports.default=e.exports},995297:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},401474:function(e,t,a){var r=a(434886);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},905751:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},798633:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},146426:function(e){e.exports=function(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports},694454:function(e,t,a){var r=a(964512);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}e.exports=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},896687:function(e){e.exports=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a},e.exports.__esModule=!0,e.exports.default=e.exports},434886:function(e){function t(a,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(a,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},198235:function(e,t,a){var r=a(421853),n=a(798633),i=a(676386),l=a(146426);e.exports=function(e){return r(e)||n(e)||i(e)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},928513:function(e,t,a){var r=a(311201).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=r(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},299892:function(e,t,a){var r=a(311201).default,n=a(928513);e.exports=function(e){var t=n(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},311201:function(e){function t(a){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},676386:function(e,t,a){var r=a(203558);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var a=({}).toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},216019:function(e,t,a){function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}a.d(t,{Z:()=>r})},920727:function(e,t,a){a.d(t,{Z:()=>n});var r=a(986143);function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},70443:function(e,t,a){function r(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}a.d(t,{Z:()=>r})},986143:function(e,t,a){function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}a.d(t,{Z:()=>r})},121835:function(e,t,a){a.d(t,{Z:()=>r});function r(e,t){if(!e)throw Error("Invariant failed")}}},function(e){e.O(0,["25418","33546","35274","36849","39174","39176","41642","47342","52653","58967","63261","67069","67243","70808","73967","79094","86517","9094","92911","97527"],function(){return e(e.s=444785)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/ideas/[interest]/[id]-b878e81610cdeb32.mjs.map